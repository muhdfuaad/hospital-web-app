{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 39, "column": 0}, "map": {"version":3,"sources":["file:///D:/Projects/HOSPITALAPP/hospitalapp/src/app/appform/location/Districts/page.tsx"],"sourcesContent":["// app/districts/page.tsx\r\n'use client';\r\n\r\nimport { useEffect, useState } from 'react';\r\n\r\nimport Link from 'next/link';\r\n<><Link href=\"/Districts\">Districts</Link><Link href=\"/Panchayaths\">Panchayaths</Link></>\r\n\r\n\r\ninterface District {\r\n    id: number;\r\n    name: string;\r\n}\r\n\r\nexport default function DistrictPage() {\r\n    const [districts, setDistricts] = useState<District[]>([]);\r\n    const [showModal, setShowModal] = useState(false);\r\n    const [districtName, setDistrictName] = useState('');\r\n    const [editingId, setEditingId] = useState<number | null>(null);\r\n\r\n    const fetchDistricts = async () => {\r\n        const res = await fetch('https://localhost:7112/api/Districts');\r\n        const data = await res.json();\r\n        setDistricts(data);\r\n    };\r\n\r\n    useEffect(() => {\r\n        fetchDistricts();\r\n    }, []);\r\n\r\n    const handleSave = async () => {\r\n        if (!districtName.trim()) return alert('Enter district name');\r\n        const method = editingId ? 'PUT' : 'POST';\r\n        const url = editingId\r\n            ? `https://localhost:7112/api/Districts/${editingId}`\r\n            : 'https://localhost:7112/api/Districts';\r\n\r\n        await fetch(url, {\r\n            method,\r\n            headers: { 'Content-Type': 'application/json' },\r\n            body: JSON.stringify({ id: editingId || 0, name: districtName }),\r\n        });\r\n\r\n        setDistrictName('');\r\n        setEditingId(null);\r\n        setShowModal(false);\r\n        fetchDistricts();\r\n    };\r\n\r\n    const handleDelete = async (id: number) => {\r\n        await fetch(`https://localhost:7112/api/Districts/${id}`, { method: 'DELETE' });\r\n        fetchDistricts();\r\n    };\r\n\r\n     \r\n    return (\r\n        <div className=\"p-6\">\r\n             <nav className=\"flex gap-4 mb-4\">\r\n        <Link href=\"/appform/location/Districts\" className=\"text-blue-600 hover:underline\">\r\n          Districts\r\n        </Link>\r\n        <Link href=\"/appform/location/Panchayaths\" className=\"text-blue-600 hover:underline\">\r\n          Panchayaths\r\n        </Link>\r\n        <Link href=\"/appform\" className=\"text-blue-600 hover:underline\">\r\n          Reg Form\r\n        </Link>\r\n        <Link href=\"/appform/location\" className=\"text-blue-600 hover:underline\">\r\n          Location tables\r\n        </Link>\r\n      </nav>\r\n\r\n      <h2 className=\"text-xl font-bold mb-4\">Districts</h2>\r\n            <button onClick={() => { setShowModal(true); setEditingId(null); setDistrictName(''); }} className=\"bg-blue-600 text-white px-4 py-2 rounded mb-4\">➕ Add District</button>\r\n            <table className=\"w-full border\">\r\n                <thead className=\"bg-gray-200\">\r\n                    <tr>\r\n                        <th className=\"px-4 py-2 text-left\">ID</th>\r\n                        <th className=\"px-4 py-2 text-left\">Name</th>\r\n                        <th className=\"px-4 py-2 text-left\">Actions</th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    {districts.map((d) => (\r\n                        <tr key={d.id} className=\"border-t\">\r\n                            <td className=\"px-4 py-2 text-left\">{d.id}</td>\r\n                            <td className=\"px-4 py-2 text-left\">{d.name}</td>\r\n                            <td className=\"px-4 py-2 text-left\">\r\n                                <div className=\"flex gap-2\">\r\n                                    <button\r\n                                        onClick={() => {\r\n                                            setEditingId(d.id);\r\n                                            setDistrictName(d.name);\r\n                                            setShowModal(true);\r\n                                        }}\r\n                                        className=\"bg-yellow-400 px-2 py-1 rounded\"\r\n                                    >\r\n                                        Edit\r\n                                    </button>\r\n                                    <button\r\n                                        onClick={() => handleDelete(d.id)}\r\n                                        className=\"bg-red-500 text-white px-2 py-1 rounded\"\r\n                                    >\r\n                                        Delete\r\n                                    </button>\r\n                                </div>\r\n                            </td>\r\n                        </tr>\r\n                    ))}\r\n                </tbody>\r\n            </table>\r\n\r\n\r\n            {showModal && (\r\n                <div className=\"fixed inset-0 bg-black/30 flex justify-center items-center\">\r\n                    <div className=\"bg-white p-6 rounded-lg w-full max-w-sm\">\r\n                        <h3 className=\"text-lg font-semibold mb-4\">{editingId ? '✏️ Edit' : '➕ Add'} District</h3>\r\n                        <input value={districtName} onChange={(e) => setDistrictName(e.target.value)} className=\"w-full border px-3 py-2 mb-4 rounded\" />\r\n                        <div className=\"flex justify-end gap-2\">\r\n                            <button onClick={() => setShowModal(false)} className=\"border px-4 py-2 rounded\">Cancel</button>\r\n                            <button onClick={handleSave} className=\"bg-blue-600 text-white px-4 py-2 rounded\">Save</button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}}]
}