{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 111, "column": 0}, "map": {"version":3,"sources":["file:///D:/Projects/HOSPITALAPP/hospitalapp/src/lib/axios.ts"],"sourcesContent":["import axios from \"axios\";\r\n\r\nconst API = axios.create({\r\n  baseURL: \"https://localhost:7112\", // update to your .NET API URL\r\n});\r\n\r\n// // ✅ Automatically attach JWT token\r\n// API.interceptors.request.use((config) => {\r\n//   const token = localStorage.getItem(\"token\");\r\n\r\n//   if (token) {\r\n//     config.headers.Authorization = `Bearer ${token}`;\r\n//   }\r\n\r\n//   return config;\r\n// });\r\n\r\nexport default API;\r\n"],"names":[],"mappings":";;;AAAA;;AAEA,MAAM,MAAM,qIAAA,CAAA,UAAK,CAAC,MAAM,CAAC;IACvB,SAAS;AACX;uCAae","debugId":null}},
    {"offset": {"line": 126, "column": 0}, "map": {"version":3,"sources":["file:///D:/Projects/HOSPITALAPP/hospitalapp/src/app/%28dashboard%29/Districts/page.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useEffect, useState } from 'react';\r\nimport { FilePen, Trash2 } from 'lucide-react';\r\nimport Link from 'next/link';\r\nimport API from '@/lib/axios';\r\n\r\ninterface District {\r\n    id: number;\r\n    name: string;\r\n}\r\n\r\nexport default function DistrictPage() {\r\n    const [districts, setDistricts] = useState<District[]>([]);\r\n    const [showModal, setShowModal] = useState(false);\r\n    const [districtName, setDistrictName] = useState('');\r\n    const [editingId, setEditingId] = useState<number | null>(null);\r\n    const [error, setError] = useState('');\r\n\r\n    const fetchDistricts = async () => {\r\n        try {\r\n            const res = await API.get<District[]>('/api/Districts');\r\n            setDistricts(res.data);\r\n        } catch (error) {\r\n            console.error('Failed to fetch districts:', error);\r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        fetchDistricts();\r\n    }, []);\r\n\r\n    const handleSave = async () => {\r\n        if (!districtName.trim()) {\r\n            setError('District name is required');\r\n            return;\r\n        }\r\n\r\n        const normalizedInput = districtName.trim().toLowerCase();\r\n\r\n        const duplicate = districts.some(d =>\r\n            d.name.trim().toLowerCase() === normalizedInput &&\r\n            d.id !== editingId\r\n        );\r\n\r\n        if (duplicate) {\r\n            setError('District already exists');\r\n            return;\r\n        }\r\n\r\n\r\n        const districtData = {\r\n            id: editingId || 0,\r\n            name: districtName.trim()\r\n        };\r\n\r\n        try {\r\n            if (editingId) {\r\n                await API.put(`/api/Districts/${editingId}`, districtData);\r\n            } else {\r\n                await API.post('/api/Districts', districtData);\r\n            }\r\n\r\n            // Reset state after success\r\n            setDistrictName('');\r\n            setEditingId(null);\r\n            setShowModal(false);\r\n            setError('');\r\n            fetchDistricts();\r\n\r\n        } catch (error) {\r\n            console.error('Failed to save district:', error);\r\n            setError('Failed to save district. Please try again.');\r\n        }\r\n    };\r\n\r\n    const handleDelete = async (id: number) => {\r\n        const confirmed = confirm('Are you sure you want to delete this district? This action cannot be undone.');\r\n        if (!confirmed) return;\r\n\r\n        try {\r\n            await API.delete(`/api/Districts/${id}`);\r\n            fetchDistricts(); // Refresh the list\r\n        } catch (error) {\r\n            console.error('Failed to delete district:', error);\r\n            alert('Error deleting district. Please try again.');\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"overflow-x-auto w-full max-w-md mx-auto p-2\">\r\n\r\n            <h2 className=\"text-xl font-bold text-blue-900 mb-4 uppercase tracking-wide text-center\">Districts</h2>\r\n\r\n            <table className=\"min-w-full border border-collapse border-gray-300\">\r\n                <thead className=\"bg-gray-200\">\r\n                    <tr>\r\n                        <th className=\"px-4 py-2 text-left border border-gray-300\">ID</th>\r\n                        <th className=\"px-4 py-2 text-left border border-gray-300\">Name</th>\r\n                        <th className=\"px-4 py-2 text-left border border-gray-300\">Actions</th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    {districts.map((d) => (\r\n                        <tr key={d.id} className=\"border-t border-gray-300\">\r\n                            <td className=\"px-4 py-2 text-left border border-gray-300\">{d.id}</td>\r\n                            <td className=\"px-4 py-2 text-left border border-gray-300\">{d.name}</td>\r\n                            <td className=\"px-4 py-2 text-left border border-gray-300\">\r\n                                <div className=\"flex gap-2\">\r\n                                    <button\r\n                                        onClick={() => {\r\n                                            setEditingId(d.id);\r\n                                            setDistrictName(d.name);\r\n                                            setError('');\r\n                                            setShowModal(true);\r\n                                        }}\r\n                                        className=\"text-blue-600 hover:text-blue-800 p-2 rounded hover:bg-blue-100 transition-all\"\r\n                                    >\r\n                                        <FilePen className=\"w-4 h-4\" />\r\n                                    </button>\r\n                                    <button\r\n                                        onClick={() => handleDelete(d.id)}\r\n                                        className=\"text-red-600 hover:text-red-800 p-2 rounded hover:bg-red-100 transition-all\"\r\n                                    >\r\n                                        <Trash2 className=\"w-4 h-4\" />\r\n                                    </button>\r\n                                </div>\r\n                            </td>\r\n                        </tr>\r\n                    ))}\r\n                </tbody>\r\n            </table>\r\n\r\n            <button\r\n                onClick={() => {\r\n                    setShowModal(true);\r\n                    setEditingId(null);\r\n                    setDistrictName('');\r\n                    setError('');\r\n                }}\r\n                className=\"bg-blue-600 text-white px-4 py-2 rounded mt-4\"\r\n            >\r\n                ➕ Add District\r\n            </button>\r\n\r\n            {showModal && (\r\n                <div className=\"fixed inset-0 bg-black/30 flex justify-center items-center z-50\">\r\n                    <div className=\"bg-white p-6 rounded-lg w-full max-w-sm shadow-lg\">\r\n                        <h3 className=\"text-lg font-semibold mb-4\">\r\n                            {editingId ? '✏️ Edit' : '➕ Add'} District\r\n                        </h3>\r\n                        <input\r\n                            value={districtName}\r\n                            onChange={(e) => setDistrictName(e.target.value)}\r\n                            className=\"w-full border px-3 py-2 mb-2 rounded\"\r\n                            placeholder=\"Enter district name\"\r\n                        />\r\n                        {error && (\r\n                            <p className=\"text-red-600 text-sm mb-2\">{error}</p>\r\n                        )}\r\n                        <div className=\"flex justify-end gap-2\">\r\n                            <button onClick={() => setShowModal(false)} className=\"border px-4 py-2 rounded\">Cancel</button>\r\n                            <button onClick={handleSave} className=\"bg-blue-600 text-white px-4 py-2 rounded\">Save</button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}}]
}