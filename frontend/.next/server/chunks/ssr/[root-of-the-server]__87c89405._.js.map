{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///D:/Projects/HOSPITALAPP/hospitalapp/src/components/SearchableSelect.tsx"],"sourcesContent":["import React, { useMemo, useEffect, useRef } from 'react';\r\nimport { Search, ExternalLink } from 'lucide-react';\r\n\r\nexport interface SearchableSelectProps<T> {\r\n  label: string;\r\n  value: string;\r\n  searchValue: string;\r\n  setSearchValue: (value: string) => void;\r\n  showDropdown: boolean;\r\n  setShowDropdown: (show: boolean) => void;\r\n  items: T[];\r\n  onSelect: (id: string) => void;\r\n  renderItem: (item: T) => React.ReactNode;\r\n  editUrl?: string;\r\n  error?: string;\r\n}\r\n\r\nexport function SearchableSelect<T extends { id: string; name: string }>(\r\n  props: SearchableSelectProps<T>\r\n) {\r\n  const {\r\n    label,\r\n    value,\r\n    searchValue,\r\n    setSearchValue,\r\n    showDropdown,\r\n    setShowDropdown,\r\n    items,\r\n    onSelect,\r\n    renderItem,\r\n    editUrl,\r\n    error\r\n  } = props;\r\n\r\n  const dropdownRef = useRef<HTMLDivElement>(null);\r\n  const selectedItem = useMemo(() => {\r\n  return items.find((i) => i.id === value) || null;\r\n}, [items, value]);\r\n\r\n  useEffect(() => {\r\n    const handleClickOutside = (event: MouseEvent) => {\r\n      if (\r\n        dropdownRef.current &&\r\n        !dropdownRef.current.contains(event.target as Node)\r\n      ) {\r\n        // Close dropdown and clear text\r\n        setShowDropdown(false);\r\n        setSearchValue('');\r\n      }\r\n    };\r\n\r\n    document.addEventListener('mousedown', handleClickOutside);\r\n    return () => {\r\n      document.removeEventListener('mousedown', handleClickOutside);\r\n    };\r\n  }, [dropdownRef, setShowDropdown, setSearchValue]);\r\n\r\n\r\n  return (\r\n    <div ref={dropdownRef} className=\"relative searchable-select w-full\">\r\n      <label className=\"block text-sm font-semibold text-blue-900 mb-1\">\r\n        {label}\r\n      </label>\r\n\r\n      <div className=\"relative\">\r\n        <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-blue-400\" />\r\n        <input\r\n          type=\"text\"\r\n          value={searchValue !== '' ? searchValue : selectedItem?.name || ''}\r\n          onChange={(e) => setSearchValue(e.target.value)}\r\n          onFocus={() => setShowDropdown(true)}\r\n          onKeyDown={(e) => {\r\n            if (e.key === 'Enter') {\r\n              e.preventDefault();\r\n              if (items.length > 0) {\r\n                const selected = items[0];\r\n                onSelect(selected.id);\r\n                setSearchValue(`${selected.name}`);\r\n                setShowDropdown(false);\r\n              }\r\n            }\r\n          }}\r\n          className={`w-full pl-8 pr-2 py-1.5 text-sm border border-blue-300 rounded-md bg-blue-50 text-blue-900 font-medium focus:outline-none\r\n            ${error\r\n              ? 'border-red-400 bg-red-50 focus:border-red-500 focus:ring-red-200'\r\n              : 'border-blue-300 bg-white focus:border-blue-500 focus:ring-2 focus:ring-blue-200'\r\n            }\r\n            text-blue-900 font-medium focus:outline-none transition-all`}\r\n          placeholder={`Search ${label.toLowerCase()}...`}\r\n        />\r\n\r\n        {value && editUrl && (\r\n          <a\r\n            href={editUrl}\r\n            target=\"_blank\"\r\n            rel=\"noopener noreferrer\"\r\n            className=\"absolute right-3 top-1/2 transform -translate-y-1/2 text-blue-400 hover:text-blue-600\"\r\n          >\r\n            <ExternalLink className=\"w-4 h-4\" />\r\n          </a>\r\n        )}\r\n      </div>\r\n\r\n      {showDropdown && (\r\n        <div\r\n          className=\"absolute z-[9999] w-full bottom-full mb-1 bg-white border border-blue-300 rounded-lg shadow-lg overflow-y-auto\"\r\n          style={{ maxHeight: '7.5rem' }}\r\n        >\r\n          {items.length > 0 ? (\r\n            items.map((item) => (\r\n              <div\r\n                key={item.id}\r\n                onMouseDown={(e) => {\r\n                  e.preventDefault();\r\n                  onSelect(item.id);\r\n                  setSearchValue(`${item.name}`);\r\n                  setShowDropdown(false);\r\n                }}\r\n                className=\"px-4 py-2 text-sm text-blue-900 hover:bg-blue-100 cursor-pointer border-b border-blue-100 last:border-b-0 transition-all\"\r\n              >\r\n                {renderItem(item)}\r\n              </div>\r\n            ))\r\n          ) : (\r\n            <div className=\"px-4 py-2 text-sm text-gray-500 text-center\">\r\n              {searchValue ? 'No results found' : 'No data available'}\r\n            </div>\r\n          )}\r\n        </div>\r\n      )}\r\n\r\n      {error && <p className=\"text-red-500 text-sm mt-1\">{error}</p>}\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;AAAA;AACA;AAAA;;;;AAgBO,SAAS,iBACd,KAA+B;IAE/B,MAAM,EACJ,KAAK,EACL,KAAK,EACL,WAAW,EACX,cAAc,EACd,YAAY,EACZ,eAAe,EACf,KAAK,EACL,QAAQ,EACR,UAAU,EACV,OAAO,EACP,KAAK,EACN,GAAG;IAEJ,MAAM,cAAc,CAAA,GAAA,qMAAA,CAAA,SAAM,AAAD,EAAkB;IAC3C,MAAM,eAAe,CAAA,GAAA,qMAAA,CAAA,UAAO,AAAD,EAAE;QAC7B,OAAO,MAAM,IAAI,CAAC,CAAC,IAAM,EAAE,EAAE,KAAK,UAAU;IAC9C,GAAG;QAAC;QAAO;KAAM;IAEf,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR,MAAM,qBAAqB,CAAC;YAC1B,IACE,YAAY,OAAO,IACnB,CAAC,YAAY,OAAO,CAAC,QAAQ,CAAC,MAAM,MAAM,GAC1C;gBACA,gCAAgC;gBAChC,gBAAgB;gBAChB,eAAe;YACjB;QACF;QAEA,SAAS,gBAAgB,CAAC,aAAa;QACvC,OAAO;YACL,SAAS,mBAAmB,CAAC,aAAa;QAC5C;IACF,GAAG;QAAC;QAAa;QAAiB;KAAe;IAGjD,qBACE,8OAAC;QAAI,KAAK;QAAa,WAAU;;0BAC/B,8OAAC;gBAAM,WAAU;0BACd;;;;;;0BAGH,8OAAC;gBAAI,WAAU;;kCACb,8OAAC,sMAAA,CAAA,SAAM;wBAAC,WAAU;;;;;;kCAClB,8OAAC;wBACC,MAAK;wBACL,OAAO,gBAAgB,KAAK,cAAc,cAAc,QAAQ;wBAChE,UAAU,CAAC,IAAM,eAAe,EAAE,MAAM,CAAC,KAAK;wBAC9C,SAAS,IAAM,gBAAgB;wBAC/B,WAAW,CAAC;4BACV,IAAI,EAAE,GAAG,KAAK,SAAS;gCACrB,EAAE,cAAc;gCAChB,IAAI,MAAM,MAAM,GAAG,GAAG;oCACpB,MAAM,WAAW,KAAK,CAAC,EAAE;oCACzB,SAAS,SAAS,EAAE;oCACpB,eAAe,GAAG,SAAS,IAAI,EAAE;oCACjC,gBAAgB;gCAClB;4BACF;wBACF;wBACA,WAAW,CAAC;YACV,EAAE,QACE,qEACA,kFACH;uEAC0D,CAAC;wBAC9D,aAAa,CAAC,OAAO,EAAE,MAAM,WAAW,GAAG,GAAG,CAAC;;;;;;oBAGhD,SAAS,yBACR,8OAAC;wBACC,MAAM;wBACN,QAAO;wBACP,KAAI;wBACJ,WAAU;kCAEV,cAAA,8OAAC,sNAAA,CAAA,eAAY;4BAAC,WAAU;;;;;;;;;;;;;;;;;YAK7B,8BACC,8OAAC;gBACC,WAAU;gBACV,OAAO;oBAAE,WAAW;gBAAS;0BAE5B,MAAM,MAAM,GAAG,IACd,MAAM,GAAG,CAAC,CAAC,qBACT,8OAAC;wBAEC,aAAa,CAAC;4BACZ,EAAE,cAAc;4BAChB,SAAS,KAAK,EAAE;4BAChB,eAAe,GAAG,KAAK,IAAI,EAAE;4BAC7B,gBAAgB;wBAClB;wBACA,WAAU;kCAET,WAAW;uBATP,KAAK,EAAE;;;;8CAahB,8OAAC;oBAAI,WAAU;8BACZ,cAAc,qBAAqB;;;;;;;;;;;YAM3C,uBAAS,8OAAC;gBAAE,WAAU;0BAA6B;;;;;;;;;;;;AAG1D","debugId":null}},
    {"offset": {"line": 269, "column": 0}, "map": {"version":3,"sources":["file:///D:/Projects/HOSPITALAPP/hospitalapp/src/lib/axios.ts"],"sourcesContent":["import axios from \"axios\";\r\n\r\nconst API = axios.create({\r\n  baseURL: \"https://localhost:7112\", // update to your .NET API URL\r\n});\r\n\r\n// // ✅ Automatically attach JWT token\r\n// API.interceptors.request.use((config) => {\r\n//   const token = localStorage.getItem(\"token\");\r\n\r\n//   if (token) {\r\n//     config.headers.Authorization = `Bearer ${token}`;\r\n//   }\r\n\r\n//   return config;\r\n// });\r\n\r\nexport default API;\r\n"],"names":[],"mappings":";;;AAAA;;AAEA,MAAM,MAAM,qIAAA,CAAA,UAAK,CAAC,MAAM,CAAC;IACvB,SAAS;AACX;uCAae","debugId":null}},
    {"offset": {"line": 284, "column": 0}, "map": {"version":3,"sources":["file:///D:/Projects/HOSPITALAPP/hospitalapp/src/app/%28dashboard%29/Purchasebill/addPurchasebill/page.tsx"],"sourcesContent":["'use client';\r\nimport React, { useState, useEffect, useRef } from 'react';\r\nimport { useRouter, useSearchParams } from 'next/navigation';\r\nimport { Trash2, Plus, Save, ChevronDown } from 'lucide-react';\r\nimport { SearchableSelect } from '@/components/SearchableSelect';\r\nimport API from '@/lib/axios';\r\n\r\nconst API_BASE = API.defaults.baseURL;\r\n\r\n// Types\r\ninterface Supplier {\r\n    id: number;\r\n    name: string;\r\n    address: string;\r\n    location: string;\r\n    gstNo: string;\r\n}\r\n\r\ninterface Medicine {\r\n    id: number;\r\n    itemCode: string;\r\n    medicineName: string;\r\n    type: string;\r\n    packItem: string;\r\n    purchaseRate: number;\r\n    salesRate: number;\r\n    gst: number;\r\n    hsnCode: string;\r\n}\r\n\r\ninterface PurchaseItem {\r\n    id: number;\r\n    itemCode: string;\r\n    type: string;\r\n    packItem: string;\r\n    medicineId: number;\r\n    medicineName: string;\r\n    batchNo: string;\r\n    expiryDate: string;\r\n    qty: number;\r\n    freeQty: number;\r\n    purchaseRate: number;\r\n    salesRate: number;\r\n    gst: number;\r\n    totalAmount: number;\r\n    hsnCode: string;\r\n\r\n    baseAmount?: number;\r\n    gstAmount?: number;\r\n    cgstAmount?: number;\r\n    sgstAmount?: number;\r\n    igstAmount?: number;\r\n    mrp?: number;\r\n    discountPercent?: number;\r\n    discountAmount?: number;\r\n}\r\n\r\ninterface PurchaseBill {\r\n    purchaseId: number;\r\n    date: string;\r\n    supplierId: number;\r\n    supplierName: string;\r\n    supplierAddress: string;\r\n    supplierLocation: string;\r\n    gst: string;\r\n    invoiceNo: string;\r\n    invoiceDate: string;\r\n    paymentType: string;\r\n    items: PurchaseItem[];\r\n    grossTotal: number;\r\n    gstTotal: number;\r\n    roundOff: number;\r\n    discount: number;\r\n    cgst: number;\r\n    sgst: number;\r\n    igst: number;\r\n    cessAmount: number;\r\n    finalTotal: number;\r\n    taxType?: 'intra' | 'inter';\r\n    isCancelled?: boolean;\r\n}\r\n\r\nconst PurchaseBillPage: React.FC = () => {\r\n    const [purchaseBill, setPurchaseBill] = useState<PurchaseBill>({\r\n        purchaseId: 0,\r\n        date: new Date().toISOString().split('T')[0],\r\n        supplierId: 0,\r\n        supplierName: '',\r\n        supplierAddress: '',\r\n        supplierLocation: '',\r\n        gst: '',\r\n        invoiceNo: '',\r\n        invoiceDate: new Date().toISOString().split('T')[0],\r\n        paymentType: 'Credit',\r\n        items: [\r\n            {\r\n                id: Date.now(),\r\n                itemCode: '',\r\n                medicineId: 0,\r\n                type: '',\r\n                packItem: '',\r\n                medicineName: '',\r\n                batchNo: '',\r\n                expiryDate: '',\r\n                qty: 1,\r\n                freeQty: 0,\r\n                purchaseRate: 0,\r\n                salesRate: 0,\r\n                gst: 0,\r\n                totalAmount: 0,\r\n                hsnCode: '',\r\n                discountPercent: 0, // ✅ set this default\r\n                baseAmount: 0,\r\n                gstAmount: 0,\r\n                cgstAmount: 0,\r\n                sgstAmount: 0,\r\n                igstAmount: 0\r\n            }\r\n        ],\r\n        grossTotal: 0,\r\n        gstTotal: 0,\r\n        roundOff: 0,\r\n        discount: 0,\r\n        cgst: 0,\r\n        sgst: 0,\r\n        igst: 0,\r\n        cessAmount: 0,\r\n        finalTotal: 0\r\n    });\r\n\r\n    const [suppliers, setSuppliers] = useState<Supplier[]>([]);\r\n    const [medicines, setMedicines] = useState<Medicine[]>([]);\r\n    const [medicineSearches, setMedicineSearches] = useState<Record<string | number, string>>({});\r\n    const [editingItem, setEditingItem] = useState<number | null>(null);\r\n\r\n    const [successMessage, setSuccessMessage] = useState('');\r\n    const [errorMessage, setErrorMessage] = useState('');\r\n    const [isEditMode, setIsEditMode] = useState(false);\r\n\r\n    const searchParams = useSearchParams();\r\n    const editId = searchParams.get('edit');\r\n    const router = useRouter();\r\n\r\n    const isCancelled = purchaseBill.isCancelled === true;\r\n    const isFinalized = purchaseBill.finalTotal > 0; // Or use a separate status field like purchaseBill.status === 'finalized'\r\n\r\n    useEffect(() => {\r\n        const fetchPurchaseId = async () => {\r\n            try {\r\n                const res = await fetch(`${API_BASE}/api/PurchaseBills/purchase-id`);\r\n                if (!res.ok) throw new Error('Failed to fetch Purchase ID');\r\n\r\n                const newId = await res.json();\r\n                setPurchaseBill(prev => ({\r\n                    ...prev,\r\n                    purchaseId: newId\r\n                }));\r\n            } catch (error) {\r\n                console.error('Error fetching Purchase ID:', error);\r\n            }\r\n        };\r\n\r\n        if (!editId) {\r\n            fetchPurchaseId();\r\n        }\r\n    }, [editId]);\r\n\r\n\r\n    // Fetch suppliers from API\r\n    useEffect(() => {\r\n        const fetchSuppliers = async () => {\r\n            try {\r\n                const res = await fetch(`${API_BASE}/api/Suppliers`);\r\n                const data = await res.json();\r\n                setSuppliers(data);\r\n            } catch (error) {\r\n                console.error('Error fetching suppliers:', error);\r\n            }\r\n        };\r\n        fetchSuppliers();\r\n    }, []);\r\n\r\n    // Fetch medicines from API\r\n    useEffect(() => {\r\n        const fetchMedicines = async () => {\r\n            try {\r\n                const res = await fetch(`${API_BASE}/api/Medicines/dropdown`);\r\n                if (!res.ok) {\r\n                    throw new Error('Failed to fetch medicines');\r\n                }\r\n                const medicineData = await res.json();\r\n                setMedicines(medicineData);\r\n            } catch (error) {\r\n                console.error('Error fetching medicines:', error);\r\n            }\r\n        };\r\n        fetchMedicines();\r\n    }, []);\r\n\r\n\r\n    // Filter medicines based on search term\r\n    const getFilteredMedicines = (itemId: number) => {\r\n        const searchTerm = medicineSearches[itemId] || '';\r\n        return medicines.filter((medicine) =>\r\n            medicine.medicineName?.toLowerCase().startsWith(searchTerm.toLowerCase())\r\n        );\r\n    };\r\n\r\n    // Add new item row\r\n    const addItem = () => {\r\n        const newItem: PurchaseItem = {\r\n            id: Date.now(),\r\n            medicineId: 0,\r\n            medicineName: '',\r\n            itemCode: '',\r\n            type: '',\r\n            packItem: '',\r\n            batchNo: '',\r\n            expiryDate: '',\r\n            qty: 1,\r\n            freeQty: 0,\r\n            purchaseRate: 0,\r\n            salesRate: 0,\r\n            gst: 0,\r\n            hsnCode: '',\r\n            discountPercent: 0, // ✅ set this default\r\n            totalAmount: 0,\r\n            baseAmount: 0,\r\n            gstAmount: 0,\r\n            cgstAmount: 0,\r\n            sgstAmount: 0,\r\n            igstAmount: 0,\r\n        };\r\n\r\n        setPurchaseBill(prev => ({\r\n            ...prev,\r\n            items: [...prev.items, newItem]\r\n        }));\r\n    };\r\n\r\n    // Remove item\r\n    const removeItem = (itemId: number) => {\r\n        if (purchaseBill.isCancelled || purchaseBill.finalTotal > 0) {\r\n            alert(\"This bill is finalized or cancelled. Items cannot be deleted.\");\r\n            return;\r\n        }\r\n\r\n        setPurchaseBill(prev => ({\r\n            ...prev,\r\n            items: prev.items.filter(item => item.id !== itemId)\r\n        }));\r\n    };\r\n\r\n\r\n    // Update item\r\n    const updateItem = (itemId: number, field: keyof PurchaseItem, value: any) => {\r\n        setPurchaseBill(prev => {\r\n            const updatedItems = prev.items.map(item => {\r\n                if (item.id === itemId) {\r\n                    const updatedItem = { ...item };\r\n\r\n                    // Parse and set value\r\n                    if (\r\n                        field === 'qty' ||\r\n                        field === 'freeQty' ||\r\n                        field === 'purchaseRate' ||\r\n                        field === 'salesRate' ||\r\n                        field === 'gst' ||\r\n                        field === 'mrp' ||\r\n                        field === 'discountPercent'\r\n                    ) {\r\n                        (updatedItem as any)[field] = parseFloat(value) || 0;\r\n                    } else {\r\n                        (updatedItem as any)[field] = value;\r\n                    }\r\n\r\n                    // Recalculate\r\n                    const baseBeforeDiscount = updatedItem.qty * updatedItem.purchaseRate;\r\n                    const discountAmount = (baseBeforeDiscount * (updatedItem.discountPercent || 0)) / 100;\r\n                    const baseAmount = baseBeforeDiscount - discountAmount;\r\n                    const gstAmount = (baseAmount * updatedItem.gst) / 100;\r\n\r\n                    if (prev.taxType === 'intra') {\r\n                        updatedItem.cgstAmount = gstAmount / 2;\r\n                        updatedItem.sgstAmount = gstAmount / 2;\r\n                        updatedItem.igstAmount = 0;\r\n                    } else {\r\n                        updatedItem.cgstAmount = 0;\r\n                        updatedItem.sgstAmount = 0;\r\n                        updatedItem.igstAmount = gstAmount;\r\n                    }\r\n\r\n                    updatedItem.baseAmount = baseAmount;\r\n                    updatedItem.gstAmount = gstAmount;\r\n                    updatedItem.totalAmount = baseAmount + gstAmount;\r\n\r\n                    return updatedItem;\r\n                }\r\n                return item;\r\n            });\r\n\r\n            // ✅ Recalculate totals based on updated items\r\n            const gstTotal = updatedItems.reduce((sum, item) => sum + (item.gstAmount || 0), 0);\r\n            const cgst = updatedItems.reduce((sum, item) => sum + (item.cgstAmount || 0), 0);\r\n            const sgst = updatedItems.reduce((sum, item) => sum + (item.sgstAmount || 0), 0);\r\n            const igst = updatedItems.reduce((sum, item) => sum + (item.igstAmount || 0), 0);\r\n\r\n            return {\r\n                ...prev,\r\n                items: updatedItems,\r\n                gstTotal,\r\n                cgst,\r\n                sgst,\r\n                igst\r\n            };\r\n        });\r\n    };\r\n\r\n\r\n    const isKeralaGST = (gstNo: string): boolean => gstNo?.slice(0, 2) === '32';\r\n\r\n    useEffect(() => {\r\n        const grossTotal = purchaseBill.items.reduce((sum, item) => sum + (item.qty * item.purchaseRate), 0);\r\n        const gstTotal = purchaseBill.items.reduce((sum, item) => sum + (item.gstAmount || 0), 0);\r\n        const cgst = purchaseBill.items.reduce((sum, item) => sum + (item.cgstAmount || 0), 0);\r\n        const sgst = purchaseBill.items.reduce((sum, item) => sum + (item.sgstAmount || 0), 0);\r\n        const igst = purchaseBill.items.reduce((sum, item) => sum + (item.igstAmount || 0), 0);\r\n\r\n        const roundOff = Math.round((grossTotal + gstTotal - purchaseBill.discount) * 100) / 100 - (grossTotal + gstTotal - purchaseBill.discount);\r\n        const finalTotal = grossTotal + gstTotal - purchaseBill.discount + roundOff + purchaseBill.cessAmount;\r\n\r\n        setPurchaseBill(prev => ({\r\n            ...prev,\r\n            grossTotal,\r\n            gstTotal,\r\n            cgst,\r\n            sgst,\r\n            igst,\r\n            roundOff,\r\n            finalTotal\r\n        }));\r\n    }, [purchaseBill.items, purchaseBill.discount, purchaseBill.cessAmount]);\r\n\r\n    //For fetching existing data\r\n    useEffect(() => {\r\n        async function fetchAndPrefillBill() {\r\n            try {\r\n                // Fetch dropdown data\r\n                const suppliersRes = await fetch(`${API_BASE}/api/Suppliers`);\r\n                const suppliersData = await suppliersRes.json();\r\n                setSuppliers(\r\n                    suppliersData.map((s: any) => ({\r\n                        id: s.id,\r\n                        name: s.name,\r\n                        address: s.address,\r\n                        location : s.location,\r\n                        gstNo: s.gstNo,\r\n                    }))\r\n                );\r\n\r\n                const medicinesRes = await fetch(`${API_BASE}/api/Medicines`);\r\n                const medicinesData = await medicinesRes.json();\r\n                setMedicines(\r\n                    medicinesData.map((m: any) => ({\r\n                        id: m.id,\r\n                        itemCode: m.itemCode,\r\n                        medicineName: m.medicineName,\r\n                        type: m.type,\r\n                        packItem: m.packItem,\r\n                        purchaseRate: m.purchaseRate,\r\n                        salesRate: m.salesRate,\r\n                        gst: m.gst,\r\n                        hsnCode: m.hsnCode,\r\n                    }))\r\n                );\r\n\r\n                if (editId) {\r\n                    setIsEditMode(true);\r\n                    const billRes = await fetch(`${API_BASE}/api/PurchaseBills/${editId}`);\r\n                    const data = await billRes.json();\r\n\r\n                    // ✅ Find supplier details\r\n                    const selectedSupplier = suppliersData.find(\r\n                        (s: any) => s.id === data.supplierId\r\n                    );\r\n\r\n                    // ✅ Enrich each item with medicine details\r\n                    const enrichedItems = data.items.map((item: any) => {\r\n                        const matchedMedicine = medicinesData.find(\r\n                            (m: any) => m.id === item.medicineId\r\n                        );\r\n                        return {\r\n                            ...item,\r\n                            itemCode: matchedMedicine?.itemCode ?? '',\r\n                            type: matchedMedicine?.type ?? '',\r\n                            packItem: matchedMedicine?.packItem ?? '',\r\n                            medicineName: matchedMedicine?.medicineName ?? '',\r\n                        };\r\n                    });\r\n\r\n                    // ✅ Set complete bill with enriched data\r\n                    setPurchaseBill({\r\n                        purchaseId: data.purchaseId ?? 0,\r\n                        date: data.date?.split(\"T\")[0] ?? \"\",\r\n                        supplierId: data.supplierId ?? 0,\r\n                        supplierName: selectedSupplier?.name ?? \"\",\r\n                        supplierAddress: selectedSupplier?.address ?? \"\",\r\n                        supplierLocation: selectedSupplier?.location ?? \"\",\r\n                        gst: selectedSupplier?.gstNo ?? \"\",\r\n                        invoiceNo: data.invoiceNo ?? \"\",\r\n                        invoiceDate: data.invoiceDate?.split(\"T\")[0] ?? \"\",\r\n                        paymentType: data.paymentType ?? \"\",\r\n                        items: enrichedItems,\r\n                        grossTotal: data.grossTotal ?? 0,\r\n                        gstTotal: data.gstTotal ?? 0,\r\n                        roundOff: data.roundOff ?? 0,\r\n                        discount: data.discount ?? 0,\r\n                        cgst: data.cgst ?? 0,\r\n                        sgst: data.sgst ?? 0,\r\n                        igst: data.igst ?? 0,\r\n                        cessAmount: data.cessAmount ?? 0,\r\n                        finalTotal: data.finalTotal ?? 0,\r\n                        taxType: data.taxType ?? \"intra\",\r\n                        isCancelled: data.isCancelled ?? false,\r\n                    });\r\n                }\r\n            } catch (err) {\r\n                console.error(\"Error while pre-filling:\", err);\r\n            }\r\n        }\r\n\r\n        fetchAndPrefillBill();\r\n    }, [editId]);\r\n\r\n    // Save purchase bill\r\n    const savePurchaseBill = async () => {\r\n        try {\r\n\r\n            // ✅ Recalculate before sending\r\n            const grossTotal = purchaseBill.items.reduce((sum, item) => sum + (item.qty * item.purchaseRate), 0);\r\n            const gstTotal = purchaseBill.items.reduce((sum, item) => sum + (item.gstAmount || 0), 0);\r\n            const discount = purchaseBill.discount || 0;\r\n            const cessAmount = purchaseBill.cessAmount || 0;\r\n\r\n            const actualTotal = grossTotal + gstTotal - discount + cessAmount;\r\n            const roundedTotal = Math.round(actualTotal);\r\n            const roundOff = +(roundedTotal - actualTotal).toFixed(2); // Ensure only 2 decimals\r\n            const finalTotal = roundedTotal;\r\n            const updatedBill = {\r\n                ...purchaseBill,\r\n                grossTotal,\r\n                gstTotal,\r\n                roundOff,\r\n                finalTotal\r\n            };\r\n\r\n            setPurchaseBill(updatedBill); // Optional, only if you want to sync state\r\n\r\n            const { purchaseId, ...restBill } = updatedBill;\r\n\r\n            const payload = {\r\n                ...restBill,\r\n                items: updatedBill.items.map(item => ({\r\n                    medicineId: item.medicineId,\r\n                    batchNo: item.batchNo,\r\n                    expiryDate: item.expiryDate,\r\n                    qty: item.qty,\r\n                    freeQty: item.freeQty,\r\n                    purchaseRate: item.purchaseRate,\r\n                    salesRate: item.salesRate,\r\n                    gst: item.gst,\r\n                    hsnCode: item.hsnCode,\r\n                    baseAmount: item.baseAmount || 0,\r\n                    gstAmount: item.gstAmount || 0,\r\n                    cgstAmount: item.cgstAmount || 0,\r\n                    sgstAmount: item.sgstAmount || 0,\r\n                    igstAmount: item.igstAmount || 0,\r\n                    mrp: item.mrp || 0,\r\n                    discountPercent: item.discountPercent || 0,\r\n                    discountAmount: item.discountAmount || 0,\r\n                    totalAmount: item.totalAmount || 0\r\n                })),\r\n                isCancelled: updatedBill.isCancelled || false\r\n            };\r\n\r\n            const res = await fetch(`${API_BASE}/api/PurchaseBills`, {\r\n                method: 'POST',\r\n                headers: { 'Content-Type': 'application/json' },\r\n                body: JSON.stringify(payload),\r\n            });\r\n\r\n            if (!res.ok) {\r\n                const errMessage = await res.text(); // or .json() if your API sends structured error\r\n                throw new Error(`Failed to save bill: ${errMessage}`);\r\n            }\r\n            const savedBill = await res.json(); // this contains the generated PurchaseId\r\n            setPurchaseBill(prev => ({ ...prev, purchaseId: savedBill.purchaseId }));\r\n\r\n            alert('Purchase bill saved successfully!');\r\n\r\n            // ✅ Success: show only success message\r\n            setSuccessMessage(editId ? '✅ Medicine updated successfully!' : '✅ Medicine added successfully!');\r\n            setTimeout(() => setSuccessMessage(''), 5000);\r\n\r\n            setTimeout(() => router.push('/Purchasebill'), 600);\r\n\r\n        } catch (err) {\r\n            console.error('Failed to save purchase bill:', err);\r\n            alert('Failed to save purchase bill!');\r\n        }\r\n    };\r\n\r\n    const cancelPurchaseBill = async () => {\r\n        const confirmed = window.confirm('Are you sure you want to cancel this bill?');\r\n        if (!confirmed) return;\r\n\r\n        try {\r\n            const res = await fetch(`${API_BASE}/api/PurchaseBills/${purchaseBill.purchaseId}/cancel`, {\r\n                method: 'PUT'\r\n            });\r\n\r\n            if (!res.ok) throw new Error('Failed to cancel bill');\r\n\r\n            setPurchaseBill(prev => ({\r\n                ...prev,\r\n                isCancelled: true,\r\n                items: prev.items.map(item => ({\r\n                    ...item,\r\n                    medicineName: `[CANCELLED] ${item.medicineName}`\r\n                }))\r\n            }));\r\n\r\n            alert('Purchase bill marked as CANCELLED!');\r\n            setTimeout(() => router.push('/Purchasebill'), 600);\r\n        } catch (error) {\r\n            console.error('Error cancelling bill:', error);\r\n            alert('Failed to cancel purchase bill.');\r\n        }\r\n    };\r\n\r\n\r\n    const formatExpiry = (value: string) => {\r\n        if (!value) return '';\r\n        const [year, month] = value.split('-');\r\n        return `${month}-${year}`;\r\n    };\r\n\r\n    const handleExpiryChange = (input: string, itemId: number) => {\r\n        const cleaned = input.replace(/[^\\d]/g, '');\r\n\r\n        let month = cleaned.slice(0, 2);\r\n        let year = cleaned.slice(2, 6);\r\n\r\n        if (month.length === 1 && parseInt(month) > 1) {\r\n            month = '0' + month;\r\n        }\r\n\r\n        const formattedInput = [month, year].filter(Boolean).join('-');\r\n        setMedicineSearches(prev => ({ ...prev, [`expiry-${itemId}`]: formattedInput }));\r\n\r\n        // If full valid date, save to item and clear temp state\r\n        if (month.length === 2 && year.length === 4) {\r\n            const dateValue = `${year}-${month}-01`;\r\n            updateItem(itemId, 'expiryDate', dateValue);\r\n            setMedicineSearches(prev => {\r\n                const copy = { ...prev };\r\n                delete copy[`expiry-${itemId}`];\r\n                return copy;\r\n            });\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"min-h-screen bg-gradient-to-br from-blue-50 to-blue-100\">\r\n            {/* Header */}\r\n            <div className=\"bg-gradient-to-r from-blue-600 to-blue-800 text-white p-4 sm:p-6 shadow-lg\">\r\n                <h1 className=\"text-4xl font-light mb-3 text-center\">Purchase Bill</h1>\r\n            </div>\r\n\r\n            {/* Form Section */}\r\n            <div className=\"p-2 sm:p-3 lg:p-4 bg-white\">\r\n                <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-4\">\r\n                    {/* Left Side */}\r\n                    <div className=\"space-y-3\">\r\n                        <div className=\"grid grid-cols-1 sm:grid-cols-12 gap-2 items-end\">\r\n                            {/* Purchase ID */}\r\n                            <div className=\"sm:col-span-2\">\r\n                                <label className=\"block text-xs font-semibold text-blue-900 mb-1\">Pur ID</label>\r\n                                <input\r\n                                    type=\"text\"\r\n                                    name=\"purchaseId\"\r\n                                    value={purchaseBill.purchaseId}\r\n                                    readOnly\r\n                                    className=\"w-full px-2 py-1.5 text-sm border border-blue-300 rounded-md bg-blue-50 text-blue-900 font-medium focus:outline-none\"\r\n                                />\r\n                            </div>\r\n\r\n                            {/* Date */}\r\n                            <div className=\"sm:col-span-3\">\r\n                                <label className=\"block text-xs font-semibold text-blue-900 mb-1\">Date</label>\r\n                                <input\r\n                                    type=\"date\"\r\n                                    value={purchaseBill.date}\r\n                                    onChange={(e) =>\r\n                                        setPurchaseBill((prev) => ({ ...prev, date: e.target.value }))\r\n                                    }\r\n                                    className=\"w-full px-2 py-1.5 text-sm border border-blue-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n                                />\r\n                            </div>\r\n\r\n                            {/* Supplier - Takes the rest */}\r\n                            <div className=\"col-span-12 sm:col-span-7\">\r\n                                <label className=\"block text-xs font-semibold text-blue-900 mb-1\">Supplier</label>\r\n                                <div className=\"flex items-center\">\r\n                                    <SearchableSelect\r\n                                        label=\"\"\r\n                                        value={purchaseBill.supplierId.toString()}\r\n                                        searchValue={medicineSearches['supplier'] || ''}\r\n                                        setSearchValue={(val) => setMedicineSearches(prev => ({ ...prev, supplier: val }))}\r\n                                        showDropdown={editingItem === -1}\r\n                                        setShowDropdown={(open) => setEditingItem(open ? -1 : null)}\r\n                                        items={suppliers\r\n                                            .filter((s) => {\r\n                                                const query = medicineSearches['supplier']?.toLowerCase() || '';\r\n                                                const firstName = s.name.split(' ')[0].toLowerCase();\r\n                                                return (\r\n                                                    s.id.toString().includes(query) ||\r\n                                                    firstName.startsWith(query)\r\n                                                );\r\n                                            })\r\n                                            .map((s) => ({\r\n                                                id: s.id.toString(),\r\n                                                name: `${s.id} - ${s.name}`\r\n                                            }))}\r\n                                        onSelect={(id) => {\r\n                                            const selectedSupplier = suppliers.find(s => s.id.toString() === id);\r\n                                            if (selectedSupplier) {\r\n                                                const isKerala = isKeralaGST(selectedSupplier.gstNo);\r\n                                                const updatedItems = purchaseBill.items.map(item => {\r\n                                                    const baseBeforeDiscount = item.qty * item.purchaseRate;\r\n                                                    const discountAmount = (baseBeforeDiscount * (item.discountPercent || 0)) / 100;\r\n                                                    const baseAmount = baseBeforeDiscount - discountAmount;\r\n                                                    const gstAmount = (baseAmount * item.gst) / 100;\r\n                                                    let cgstAmount = 0, sgstAmount = 0, igstAmount = 0;\r\n                                                    if (isKerala) {\r\n                                                        cgstAmount = gstAmount / 2;\r\n                                                        sgstAmount = gstAmount / 2;\r\n                                                    } else {\r\n                                                        igstAmount = gstAmount;\r\n                                                    }\r\n\r\n                                                    return {\r\n                                                        ...item,\r\n                                                        baseAmount,\r\n                                                        gstAmount,\r\n                                                        cgstAmount,\r\n                                                        sgstAmount,\r\n                                                        igstAmount,\r\n                                                        amount: baseAmount + gstAmount,\r\n                                                    };\r\n                                                });\r\n\r\n                                                const gstTotal = updatedItems.reduce((sum, i) => sum + (i.gstAmount || 0), 0);\r\n                                                const cgst = updatedItems.reduce((sum, i) => sum + (i.cgstAmount || 0), 0);\r\n                                                const sgst = updatedItems.reduce((sum, i) => sum + (i.sgstAmount || 0), 0);\r\n                                                const igst = updatedItems.reduce((sum, i) => sum + (i.igstAmount || 0), 0);\r\n\r\n                                                setPurchaseBill(prev => ({\r\n                                                    ...prev,\r\n                                                    supplierId: selectedSupplier.id,\r\n                                                    supplierName: selectedSupplier.name,\r\n                                                    supplierAddress: selectedSupplier.address,\r\n                                                    supplierLocation: selectedSupplier.location,\r\n                                                    gst: selectedSupplier.gstNo,\r\n                                                    taxType: isKerala ? 'intra' : 'inter',\r\n                                                    items: updatedItems,\r\n                                                    gstTotal,\r\n                                                    cgst,\r\n                                                    sgst,\r\n                                                    igst,\r\n                                                }));\r\n\r\n                                                setMedicineSearches(prev => ({ ...prev, supplier: '' }));\r\n                                            }\r\n                                        }}\r\n                                        renderItem={(item) => (\r\n                                            <div className=\"text-xs font-medium text-gray-700\">\r\n                                                {item.name}\r\n                                            </div>\r\n                                        )}\r\n                                    />\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"flex flex-col sm:flex-row gap-2\">\r\n\r\n                            {/* Supplier Address */}\r\n                            <div className=\"w-full sm:w-1/2\">\r\n                                <label className=\"block text-xs font-semibold text-blue-900 mb-1\">Address</label>\r\n                                <input\r\n                                    type=\"text\"\r\n                                    value={purchaseBill.supplierAddress}\r\n                                    readOnly\r\n                                    className=\"w-full px-2 py-1.5 text-sm border border-blue-300 rounded-md bg-blue-50 text-blue-900\"\r\n                                />\r\n                            </div>\r\n\r\n                            {/* Supplier Location */}\r\n                            <div className=\"w-full sm:w-1/2\">\r\n                                <label className=\"block text-xs font-semibold text-blue-900 mb-1\">Location</label>\r\n                                <input\r\n                                    type=\"text\"\r\n                                    value={purchaseBill.supplierLocation || \"\"}\r\n                                    readOnly\r\n                                    className=\"w-full px-2 py-1.5 text-sm border border-blue-300 rounded-md bg-blue-50 text-blue-900\"\r\n                                />\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n                    {/* Right Side */}\r\n                    <div className=\"space-y-3\">\r\n\r\n                        <div className=\"flex flex-col sm:flex-row gap-2\">\r\n                            {/* Invoice No - 60% */}\r\n                            <div className=\"w-full sm:w-3/5\">\r\n                                <label className=\"block text-xs font-semibold text-blue-900 mb-1\">Inv No</label>\r\n                                <input\r\n                                    type=\"text\"\r\n                                    value={purchaseBill.invoiceNo}\r\n                                    onChange={(e) => setPurchaseBill(prev => ({ ...prev, invoiceNo: e.target.value }))}\r\n                                    required\r\n                                    className=\"w-full px-2 py-1.5 text-sm border border-blue-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n                                />\r\n                            </div>\r\n\r\n                            {/* Invoice Date - 40% */}\r\n                            <div className=\"w-full sm:w-2/5\">\r\n                                <label className=\"block text-xs font-semibold text-blue-900 mb-1\">Inv Date</label>\r\n                                <input\r\n                                    type=\"date\"\r\n                                    value={purchaseBill.invoiceDate}\r\n                                    onChange={(e) => setPurchaseBill(prev => ({ ...prev, invoiceDate: e.target.value }))}\r\n                                    required\r\n                                    className=\"w-full px-2 py-1.5 text-sm border border-blue-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n                                />\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"flex flex-col sm:flex-row gap-2\">\r\n                            {/* GST IN - 60% */}\r\n                            <div className=\"w-full sm:w-3/5\">\r\n                                <label className=\"block text-xs font-semibold text-blue-900 mb-1\">GST IN</label>\r\n                                <input\r\n                                    type=\"text\"\r\n                                    value={purchaseBill.gst}\r\n                                    readOnly\r\n                                    className=\"w-full px-2 py-1.5 text-sm border border-blue-300 rounded-md bg-blue-50 text-blue-900\"\r\n                                />\r\n                            </div>\r\n\r\n                            {/* Payment Type - 40% */}\r\n                            <div className=\"w-full sm:w-2/5\">\r\n                                <label className=\"block text-xs font-semibold text-blue-900 mb-1\">Payment</label>\r\n                                <select\r\n                                    value={purchaseBill.paymentType}\r\n                                    onChange={(e) => setPurchaseBill(prev => ({ ...prev, paymentType: e.target.value }))}\r\n                                    className=\"w-full px-2 py-1.5 text-sm border border-blue-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n                                >\r\n                                    <option value=\"Credit\">Credit</option>\r\n                                    <option value=\"Cash\">Cash</option>\r\n                                    <option value=\"Other\">Other</option>\r\n                                </select>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n{/* Items Section */}\r\n            <div className=\"p-3 sm:p-4 lg:p-6 bg-gradient-to-r from-blue-50 to-blue-100\">\r\n                <div className=\"flex flex-col sm:flex-row justify-between items-center mb-4\">\r\n                    <h2 className=\"text-xl sm:text-2xl font-bold text-blue-900 mb-2 sm:mb-0\">Items</h2>\r\n                    <button\r\n                        onClick={addItem}\r\n                        disabled={isCancelled || isFinalized}\r\n                        className={`bg-gradient-to-r from-blue-600 to-blue-800 text-white px-4 py-2 rounded-lg hover:from-blue-700 hover:to-blue-900 flex items-center gap-2 font-medium shadow-lg transition-all duration-300 ${\r\n                            isCancelled || isFinalized ? 'opacity-50 cursor-not-allowed' : ''\r\n                        }`}\r\n                    >\r\n                        <Plus size={16} /> Add Item\r\n                    </button>\r\n                </div>\r\n\r\n                {/* Items Table */}\r\n                <div className=\"bg-white rounded-lg shadow-lg relative overflow-visible z-10\">\r\n                    <div className=\"w-full overflow-visible\">\r\n                        <table className=\"min-w-[800px] w-full border border-blue-300 text-xs sm:text-sm overflow-visible\">\r\n                            <thead className=\"bg-gradient-to-r from-blue-600 to-blue-800 text-white\">\r\n                                <tr>\r\n                                    <th className=\"px-2 py-3 text-left text-xs sm:text-sm font-medium border-r border-blue-500\">Item Code</th>\r\n                                    <th className=\"px-2 py-3 text-left text-xs sm:text-sm font-medium border-r border-blue-500\">Medicine</th>\r\n                                    <th className=\"px-2 py-3 text-center text-xs sm:text-sm font-medium border-r border-blue-500\">Type</th>\r\n                                    <th className=\"px-2 py-3 text-center text-xs sm:text-sm font-medium border-r border-blue-500\">Pack Item</th>\r\n                                    <th className=\"px-2 py-3 text-left text-xs sm:text-sm font-medium border-r border-blue-500\">Batch</th>\r\n                                    <th className=\"px-2 py-3 text-left text-xs sm:text-sm font-medium border-r border-blue-500\">Expiry</th>\r\n                                    <th className=\"px-2 py-3 text-center text-xs sm:text-sm font-medium border-r border-blue-500\">Qty</th>\r\n                                    <th className=\"px-2 py-3 text-center text-xs sm:text-sm font-medium border-r border-blue-500\">Free</th>\r\n                                    <th className=\"px-2 py-3 text-center text-xs sm:text-sm font-medium border-r border-blue-500\">Disc %</th>\r\n                                    <th className=\"px-2 py-3 text-center text-xs sm:text-sm font-medium border-r border-blue-500\">P.Rate</th>\r\n                                    <th className=\"px-2 py-3 text-center text-xs sm:text-sm font-medium border-r border-blue-500\">S.Rate</th>\r\n                                    <th className=\"px-2 py-3 text-center text-xs sm:text-sm font-medium border-r border-blue-500\">MRP</th>\r\n                                    <th className=\"px-2 py-3 text-center text-xs sm:text-sm font-medium border-r border-blue-500\">GST%</th>\r\n                                    <th className=\"px-2 py-3 text-center text-xs sm:text-sm font-medium border-r border-blue-500\">Amount</th>\r\n                                    <th className=\"px-2 py-3 text-center text-xs sm:text-sm font-medium border-r border-blue-500\">HSN</th>\r\n                                    <th className=\"px-2 py-3 text-center text-xs sm:text-sm font-medium\">Action</th>\r\n                                </tr>\r\n                            </thead>\r\n                            <tbody>\r\n                                {purchaseBill.items.map((item, index) => (\r\n                                    <tr key={item.id} className={`${index % 2 === 0 ? 'bg-blue-50' : 'bg-white'} hover:bg-blue-100 transition-colors duration-200 ${\r\n                                        isCancelled ? 'opacity-60' : ''\r\n                                    }`}>\r\n                                        <td className=\"px-2 py-2 border-r border-blue-200 text-xs sm:text-sm\">\r\n                                            <input\r\n                                                type=\"text\"\r\n                                                value={item.itemCode}\r\n                                                onChange={(e) => updateItem(item.id, 'itemCode', e.target.value)}\r\n                                                disabled={isCancelled || isFinalized}\r\n                                                className={`w-16 px-1 py-1 text-xs border border-blue-300 rounded ${\r\n                                                    isCancelled || isFinalized ? 'bg-gray-100 cursor-not-allowed' : ''\r\n                                                }`}\r\n                                            />\r\n                                        </td>\r\n                                        <td className=\"relative border-r border-blue-200 px-2 py-2 z-10 overflow-visible\">\r\n                                            <div className=\"relative z-10\">\r\n                                                <SearchableSelect\r\n                                                    label=\"\"\r\n                                                    value={item.medicineId?.toString() || ''}\r\n                                                    searchValue={medicineSearches[item.id] || ''}\r\n                                                    setSearchValue={(val) =>\r\n                                                        setMedicineSearches(prev => ({ ...prev, [item.id]: val }))\r\n                                                    }\r\n                                                    showDropdown={editingItem === item.id && !isCancelled && !isFinalized}\r\n                                                    setShowDropdown={(open) => setEditingItem(open ? item.id : null)}\r\n                                                    items={getFilteredMedicines(item.id).map((m) => ({\r\n                                                        id: m.id.toString(),\r\n                                                        name: m.medicineName\r\n                                                    }))}\r\n                                                    onSelect={(medicineId) => {\r\n                                                        const selected = medicines.find(m => m.id.toString() === medicineId);\r\n                                                        if (!selected) return;\r\n\r\n                                                        setPurchaseBill(prev => ({\r\n                                                            ...prev,\r\n                                                            items: prev.items.map(pItem => {\r\n                                                                if (pItem.id !== item.id) return pItem;\r\n\r\n                                                                const baseBeforeDiscount = pItem.qty * selected.purchaseRate;\r\n                                                                const discountAmount = (baseBeforeDiscount * (pItem.discountPercent || 0)) / 100;\r\n                                                                const baseAmount = baseBeforeDiscount - discountAmount;\r\n                                                                const gstAmount = (baseAmount * selected.gst) / 100;\r\n\r\n                                                                let cgstAmount = 0, sgstAmount = 0, igstAmount = 0;\r\n                                                                if (prev.taxType === 'intra') {\r\n                                                                    cgstAmount = gstAmount / 2;\r\n                                                                    sgstAmount = gstAmount / 2;\r\n                                                                } else {\r\n                                                                    igstAmount = gstAmount;\r\n                                                                }\r\n\r\n                                                                return {\r\n                                                                    ...pItem,\r\n                                                                    medicineId: selected.id,\r\n                                                                    itemCode: selected.itemCode,\r\n                                                                    medicineName: selected.medicineName,\r\n                                                                    type: selected.type,\r\n                                                                    packItem: selected.packItem,\r\n                                                                    purchaseRate: selected.purchaseRate,\r\n                                                                    salesRate: selected.salesRate,\r\n                                                                    gst: selected.gst,\r\n                                                                    hsnCode: selected.hsnCode,\r\n                                                                    baseAmount,\r\n                                                                    gstAmount,\r\n                                                                    cgstAmount,\r\n                                                                    sgstAmount,\r\n                                                                    igstAmount,\r\n                                                                    totalAmount: baseAmount + gstAmount,\r\n                                                                };\r\n                                                            })\r\n                                                        }));\r\n\r\n                                                        setMedicineSearches(prev => ({ ...prev, [item.id]: '' }));\r\n                                                    }}\r\n                                                    renderItem={(item) => (\r\n                                                        <div className=\"text-sm\">\r\n                                                            <div className=\"font-semibold\">{item.id}</div>\r\n                                                            <div className=\"text-gray-600\">{item.name}</div>\r\n                                                        </div>\r\n                                                    )}\r\n                                                />\r\n                                            </div>\r\n                                        </td>\r\n                                        <td className=\"px-2 py-2 border-r border-blue-200 text-xs sm:text-sm\">\r\n                                            <input\r\n                                                type=\"text\"\r\n                                                value={item.type || ''}\r\n                                                readOnly\r\n                                                className=\"w-16 px-1 py-1 border border-blue-300 rounded text-xs bg-gray-100 cursor-not-allowed\"\r\n                                            />\r\n                                        </td>\r\n                                        <td className=\"px-2 py-2 border-r border-blue-200 text-xs sm:text-sm\">\r\n                                            <input\r\n                                                type=\"text\"\r\n                                                value={item.packItem || ''}\r\n                                                readOnly\r\n                                                className=\"w-8 px-1 py-1 text-xs border border-blue-300 rounded bg-gray-100 cursor-not-allowed\"\r\n                                            />\r\n                                        </td>\r\n                                        <td className=\"px-2 py-2 border-r border-blue-200 text-xs sm:text-sm\">\r\n                                            <input\r\n                                                type=\"text\"\r\n                                                value={item.batchNo}\r\n                                                onChange={(e) => updateItem(item.id, 'batchNo', e.target.value)}\r\n                                                disabled={isCancelled || isFinalized}\r\n                                                className={`w-20 px-2 py-1 border border-blue-300 rounded text-xs ${\r\n                                                    isCancelled || isFinalized ? 'bg-gray-100 cursor-not-allowed' : ''\r\n                                                }`}\r\n                                            />\r\n                                        </td>\r\n                                        <td className=\"px-1 py-1 border-r border-blue-200 text-xs sm:text-sm\">\r\n                                            <input\r\n                                                type=\"text\"\r\n                                                placeholder=\"MM-YYYY\"\r\n                                                value={medicineSearches[`expiry-${item.id}`] || formatExpiry(item.expiryDate)}\r\n                                                onChange={(e) => handleExpiryChange(e.target.value, item.id)}\r\n                                                disabled={isCancelled || isFinalized}\r\n                                                className={`w-[4.5rem] px-2 py-1 border border-blue-300 rounded text-xs text-center tracking-wider ${\r\n                                                    isCancelled || isFinalized ? 'bg-gray-100 cursor-not-allowed' : ''\r\n                                                }`}\r\n                                                maxLength={7}\r\n                                                inputMode=\"numeric\"\r\n                                                pattern=\"\\d{2}-\\d{4}\"\r\n                                            />\r\n                                        </td>\r\n                                        <td className=\"px-2 py-2 border-r border-blue-200 text-center text-xs sm:text-sm\">\r\n                                            <input\r\n                                                type=\"number\"\r\n                                                inputMode=\"numeric\"\r\n                                                value={item.qty === 0 ? '' : item.qty}\r\n                                                onFocus={(e) => {\r\n                                                    if (e.target.value === '0') e.target.value = '';\r\n                                                }}\r\n                                                onBlur={(e) => {\r\n                                                    const val = parseFloat(e.target.value);\r\n                                                    updateItem(item.id, 'qty', isNaN(val) ? 0 : val);\r\n                                                }}\r\n                                                onChange={(e) => {\r\n                                                    const val = e.target.value;\r\n                                                    updateItem(item.id, 'qty', val === '' ? '' : parseFloat(val));\r\n                                                }}\r\n                                                disabled={isCancelled || isFinalized}\r\n                                                className={`w-12 px-1 py-1 border border-blue-300 rounded text-xs ${\r\n                                                    isCancelled || isFinalized ? 'bg-gray-100 cursor-not-allowed' : ''\r\n                                                }`}\r\n                                            />\r\n                                        </td>\r\n                                        <td className=\"px-2 py-2 border-r border-blue-200 text-center text-xs sm:text-sm\">\r\n                                            <input\r\n                                                type=\"number\"\r\n                                                value={item.freeQty}\r\n                                                onChange={(e) => updateItem(item.id, 'freeQty', e.target.value)}\r\n                                                disabled={isCancelled || isFinalized}\r\n                                                className={`w-12 px-2 py-1 border border-blue-300 rounded text-xs text-center ${\r\n                                                    isCancelled || isFinalized ? 'bg-gray-100 cursor-not-allowed' : ''\r\n                                                }`}\r\n                                            />\r\n                                        </td>\r\n                                        <td className=\"px-2 py-2 border-r border-blue-200 text-xs sm:text-sm\">\r\n                                            <input\r\n                                                type=\"number\"\r\n                                                min={0}\r\n                                                max={100}\r\n                                                value={item.discountPercent}\r\n                                                onChange={(e) => updateItem(item.id, 'discountPercent', e.target.value)}\r\n                                                disabled={isCancelled || isFinalized}\r\n                                                className={`w-12 px-1 py-1 border border-blue-300 rounded text-xs ${\r\n                                                    isCancelled || isFinalized ? 'bg-gray-100 cursor-not-allowed' : ''\r\n                                                }`}\r\n                                            />\r\n                                        </td>\r\n                                        <td className=\"px-2 py-2 border-r border-blue-200 text-center text-xs sm:text-sm\">\r\n                                            <input\r\n                                                type=\"number\"\r\n                                                step=\"0.01\"\r\n                                                value={Number(item.purchaseRate) || ''}\r\n                                                onChange={(e) => updateItem(item.id, 'purchaseRate', e.target.value)}\r\n                                                disabled={isCancelled || isFinalized}\r\n                                                className={`w-16 px-2 py-1 border border-blue-300 rounded text-xs text-center ${\r\n                                                    isCancelled || isFinalized ? 'bg-gray-100 cursor-not-allowed' : ''\r\n                                                }`}\r\n                                            />\r\n                                        </td>\r\n                                        <td className=\"px-2 py-2 border-r border-blue-200 text-center text-xs sm:text-sm\">\r\n                                            <input\r\n                                                type=\"number\"\r\n                                                step=\"0.01\"\r\n                                                value={item.salesRate ?? ''}\r\n                                                onChange={(e) => updateItem(item.id, 'salesRate', e.target.value)}\r\n                                                disabled={isCancelled || isFinalized}\r\n                                                className={`w-16 px-2 py-1 border border-blue-300 rounded text-xs text-center ${\r\n                                                    isCancelled || isFinalized ? 'bg-gray-100 cursor-not-allowed' : ''\r\n                                                }`}\r\n                                            />\r\n                                        </td>\r\n                                        <td className=\"px-2 py-2 border-r border-blue-200 text-xs sm:text-sm\">\r\n                                            <input\r\n                                                type=\"number\"\r\n                                                value={item.mrp || ''}\r\n                                                onChange={(e) => updateItem(item.id, 'mrp', e.target.value)}\r\n                                                disabled={isCancelled || isFinalized}\r\n                                                className={`w-16 px-1 py-1 text-xs border border-blue-300 rounded ${\r\n                                                    isCancelled || isFinalized ? 'bg-gray-100 cursor-not-allowed' : ''\r\n                                                }`}\r\n                                            />\r\n                                        </td>\r\n                                        <td className=\"px-2 py-2 border-r border-blue-200 text-center text-xs sm:text-sm\">\r\n                                            <input\r\n                                                type=\"text\"\r\n                                                value={purchaseBill.items.find(i => i.id === item.id)?.gst ?? ''}\r\n                                                onChange={(e) => updateItem(item.id, 'gst', e.target.value)}\r\n                                                disabled={isCancelled || isFinalized}\r\n                                                className={`w-8 px-2 py-1 border border-blue-300 rounded text-xs ${\r\n                                                    isCancelled || isFinalized ? 'bg-gray-100 cursor-not-allowed' : ''\r\n                                                }`}\r\n                                            />\r\n                                        </td>\r\n                                        <td className=\"px-2 py-2 border-r border-blue-200 text-center text-xs sm:text-sm font-bold text-green-700\">\r\n                                            ₹{item.totalAmount.toFixed(2)}\r\n                                        </td>\r\n                                        <td className=\"px-2 py-2 border-r border-blue-200 text-center text-xs sm:text-sm\">\r\n                                            <input\r\n                                                type=\"text\"\r\n                                                value={purchaseBill.items.find(i => i.id === item.id)?.hsnCode ?? ''}\r\n                                                onChange={(e) => updateItem(item.id, 'hsnCode', e.target.value)}\r\n                                                disabled={isCancelled || isFinalized}\r\n                                                className={`w-18 px-2 py-1 border border-blue-300 rounded text-xs ${\r\n                                                    isCancelled || isFinalized ? 'bg-gray-100 cursor-not-allowed' : ''\r\n                                                }`}\r\n                                            />\r\n                                        </td>\r\n                                        <td className=\"px-2 py-2 text-center\">\r\n                                            <button\r\n                                                type=\"button\"\r\n                                                onClick={() => removeItem(item.id)}\r\n                                                disabled={isCancelled || isFinalized}\r\n                                                className={`text-red-600 hover:text-red-800 transition ${\r\n                                                    isCancelled || isFinalized ? 'opacity-40 cursor-not-allowed' : ''\r\n                                                }`}\r\n                                                title={\r\n                                                    isCancelled\r\n                                                        ? 'Bill is cancelled'\r\n                                                        : isFinalized\r\n                                                            ? 'Finalized bill cannot be modified'\r\n                                                            : 'Delete item'\r\n                                                }\r\n                                            >\r\n                                                <Trash2 className=\"w-4 h-4\" />\r\n                                            </button>\r\n                                        </td>\r\n\r\n                                        {/* Hidden fields for backend calculations */}\r\n                                        <td className=\"hidden\">\r\n                                            <input\r\n                                                type=\"hidden\"\r\n                                                value={(item.qty * item.purchaseRate).toFixed(2)}\r\n                                                onChange={() => {}}\r\n                                                name={`item-${item.id}-baseAmount`}\r\n                                            />\r\n                                            <input\r\n                                                type=\"hidden\"\r\n                                                value={((item.qty * item.purchaseRate * item.gst) / 100).toFixed(2)}\r\n                                                onChange={() => {}}\r\n                                                name={`item-${item.id}-gstAmount`}\r\n                                            />\r\n                                            <input\r\n                                                type=\"hidden\"\r\n                                                value={(((item.qty * item.purchaseRate * item.gst) / 2) / 100).toFixed(2)}\r\n                                                onChange={() => {}}\r\n                                                name={`item-${item.id}-cgstAmount`}\r\n                                            />\r\n                                            <input\r\n                                                type=\"hidden\"\r\n                                                value={(((item.qty * item.purchaseRate * item.gst) / 2) / 100).toFixed(2)}\r\n                                                onChange={() => {}}\r\n                                                name={`item-${item.id}-sgstAmount`}\r\n                                            />\r\n                                            <input\r\n                                                type=\"hidden\"\r\n                                                value={(0).toFixed(2)}\r\n                                                onChange={() => {}}\r\n                                                name={`item-${item.id}-igstAmount`}\r\n                                            />\r\n                                        </td>\r\n                                    </tr>\r\n                                ))}\r\n                            </tbody>\r\n                        </table>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            {/* Summary Section */}\r\n            <div className=\"p-3 sm:p-4 lg:p-6 bg-white\">\r\n                <div className=\"bg-gradient-to-r from-blue-50 to-blue-100 p-4 sm:p-6 rounded-lg\">\r\n                    <h3 className=\"text-lg sm:text-xl font-bold text-blue-900 mb-4\">Summary</h3>\r\n\r\n                    <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-4 sm:gap-6\">\r\n                        {/* Column 1: Tax Details */}\r\n                        <div className=\"space-y-3\">\r\n                            <div className=\"border border-blue-300 rounded-lg overflow-hidden\">\r\n                                <div className=\"bg-blue-600 text-white p-2 text-center font-semibold text-sm\">Tax Details</div>\r\n                                <div className=\"divide-y divide-blue-200\">\r\n                                    <div className=\"flex justify-between items-center p-2 bg-white\">\r\n                                        <span className=\"text-sm font-medium text-blue-900\">GST Total:</span>\r\n                                        <span className=\"text-sm font-bold text-blue-900\">₹{purchaseBill.gstTotal.toFixed(2)}</span>\r\n                                    </div>\r\n                                    <div className=\"flex justify-between items-center p-2 bg-blue-50\">\r\n                                        <span className=\"text-sm font-medium text-blue-900\">CGST:</span>\r\n                                        <span className=\"text-sm font-bold text-blue-900\">₹{purchaseBill.cgst.toFixed(2)}</span>\r\n                                    </div>\r\n                                    <div className=\"flex justify-between items-center p-2 bg-white\">\r\n                                        <span className=\"text-sm font-medium text-blue-900\">SGST:</span>\r\n                                        <span className=\"text-sm font-bold text-blue-900\">₹{purchaseBill.sgst.toFixed(2)}</span>\r\n                                    </div>\r\n                                    <div className=\"flex justify-between items-center p-2 bg-white\">\r\n                                        <span className=\"text-sm font-medium text-blue-900\">IGST:</span>\r\n                                        <span className=\"text-sm font-bold text-blue-900\">₹{purchaseBill.igst.toFixed(2)}</span>\r\n                                    </div>\r\n                                    <div className=\"flex justify-between items-center p-2 bg-blue-50\">\r\n                                        <span className=\"text-sm font-medium text-blue-900\">Cess Amount:</span>\r\n                                        <input\r\n                                            type=\"number\"\r\n                                            step=\"0.01\"\r\n                                            value={purchaseBill.cessAmount}\r\n                                            onChange={(e) => setPurchaseBill(prev => ({ ...prev, cessAmount: Number(e.target.value) }))}\r\n                                            disabled={isCancelled || isFinalized}\r\n                                            className={`w-20 px-2 py-1 text-sm border border-blue-300 rounded text-right font-bold ${\r\n                                                isCancelled || isFinalized ? 'bg-gray-100 cursor-not-allowed' : ''\r\n                                            }`}\r\n                                        />\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n\r\n                        {/* Column 2: Amount Details */}\r\n                        <div className=\"space-y-3\">\r\n                            <div className=\"border border-blue-300 rounded-lg overflow-hidden\">\r\n                                <div className=\"bg-blue-600 text-white p-2 text-center font-semibold text-sm\">Amount Details</div>\r\n                                <div className=\"divide-y divide-blue-200\">\r\n                                    <div className=\"flex justify-between items-center p-2 bg-green-50 font-bold\">\r\n                                        <span className=\"text-sm text-green-900\">Gross Total:</span>\r\n                                        <span className=\"text-sm text-green-900\">\r\n                                            ₹{(purchaseBill.items.reduce((acc, item) => acc + (item.totalAmount || 0), 0) + (purchaseBill.cessAmount || 0)).toFixed(2)}\r\n                                        </span>\r\n                                    </div>\r\n                                    <div className=\"flex justify-between items-center p-2 bg-blue-50\">\r\n                                        <span className=\"text-sm font-medium text-blue-900\">Round Off:</span>\r\n                                        <span className=\"text-sm font-bold text-blue-900\">₹{purchaseBill.roundOff.toFixed(2)}</span>\r\n                                    </div>\r\n                                    <div className=\"flex justify-between items-center p-2 bg-white\">\r\n                                        <span className=\"text-sm font-medium text-blue-900\">Discount:</span>\r\n                                        <input\r\n                                            type=\"number\"\r\n                                            step=\"0.01\"\r\n                                            value={purchaseBill.discount}\r\n                                            onChange={(e) => setPurchaseBill(prev => ({ ...prev, discount: Number(e.target.value) }))}\r\n                                            disabled={isCancelled || isFinalized}\r\n                                            className={`w-20 px-2 py-1 text-sm border border-blue-300 rounded text-right font-bold ${\r\n                                                isCancelled || isFinalized ? 'bg-gray-100 cursor-not-allowed' : ''\r\n                                            }`}\r\n                                        />\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n\r\n                        {/* Column 3: Final Total */}\r\n                        <div className=\"lg:flex lg:items-center lg:justify-center\">\r\n                            <div className=\"bg-gradient-to-r from-red-500 to-red-700 text-white p-4 rounded-lg text-center shadow-lg\">\r\n                                <div className=\"text-sm font-medium mb-1\">Total Amount</div>\r\n                                <div className=\"text-2xl font-bold\">₹{purchaseBill.finalTotal.toFixed(2)}</div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            {/* Status Messages */}\r\n            <div className=\"flex justify-center\">\r\n                <div className=\"w-full max-w-md\">\r\n                    {errorMessage && (\r\n                        <div className=\"mb-4 text-sm text-red-600 font-semibold bg-red-100 border border-red-300 p-2 rounded text-center\">\r\n                            {errorMessage}\r\n                        </div>\r\n                    )}\r\n                    {successMessage && (\r\n                        <div className=\"bg-green-100 text-green-800 p-2 rounded mb-4 shadow text-sm font-medium text-center\">\r\n                            {successMessage}\r\n                        </div>\r\n                    )}\r\n                </div>\r\n            </div>\r\n\r\n            {/* Status Indicator */}\r\n            {(isCancelled || isFinalized) && (\r\n                <div className=\"p-3 sm:p-4 lg:p-6 bg-white\">\r\n                    <div className=\"text-center\">\r\n                        {isCancelled && (\r\n                            <div className=\"bg-red-100 text-red-800 p-3 rounded-lg font-bold text-lg border border-red-300\">\r\n                                ⚠️ This Purchase Bill has been CANCELLED\r\n                            </div>\r\n                        )}\r\n                        {isFinalized && !isCancelled && (\r\n                            <div className=\"bg-green-100 text-green-800 p-3 rounded-lg font-bold text-lg border border-green-300\">\r\n                                ✅ This Purchase Bill has been FINALIZED\r\n                            </div>\r\n                        )}\r\n                    </div>\r\n                </div>\r\n            )}\r\n\r\n            {/* Save + Cancel Buttons */}\r\n            <div className=\"p-3 sm:p-4 lg:p-6 bg-gradient-to-r from-blue-50 to-blue-100\">\r\n                <div className=\"flex justify-center gap-4\">\r\n                    <button\r\n                        onClick={savePurchaseBill}\r\n                        disabled={isCancelled}\r\n                        className={`bg-gradient-to-r from-green-600 to-green-800 text-white px-8 py-3 rounded-lg hover:from-green-700 hover:to-green-900 flex items-center gap-2 font-bold text-lg shadow-lg transition-all duration-300 ${\r\n                            isCancelled ? 'opacity-50 cursor-not-allowed' : ''\r\n                        }`}\r\n                        title={isCancelled ? 'Cannot save cancelled bill' : 'Save Purchase Bill'}\r\n                    >\r\n                        <Save size={20} /> {isEditMode ? 'Update Bill' : 'Save Bill'}\r\n                    </button>\r\n\r\n                    {!isCancelled && (\r\n                        <button\r\n                            onClick={cancelPurchaseBill}\r\n                            className=\"bg-gradient-to-r from-red-600 to-red-800 text-white px-8 py-3 rounded-lg hover:from-red-700 hover:to-red-900 flex items-center gap-2 font-bold text-lg shadow-lg transition-all duration-300\"\r\n                        >\r\n                            <Trash2 size={20} /> Cancel Bill\r\n                        </button>\r\n                    )}\r\n                </div>\r\n            </div>\r\n\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default PurchaseBillPage;"],"names":[],"mappings":"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","debugId":null}}]
}