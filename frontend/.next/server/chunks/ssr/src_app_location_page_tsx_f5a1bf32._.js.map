{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///D:/Projects/HOSPITALAPP/hospitalapp/src/app/location/page.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useEffect, useState } from 'react';\r\n\r\ninterface District {\r\n  id: number;\r\n  name: string;\r\n}\r\n\r\ninterface Panchayath {\r\n  panchayathId: number;\r\n  panchayathName: string;\r\n  DstId: number;\r\n  dstName : string;\r\n}\r\n\r\nexport default function Page() {\r\n  const [districts, setDistricts] = useState<District[]>([]);\r\n  const [panchayaths, setPanchayaths] = useState<Panchayath[]>([]);\r\n\r\n  const [showDistrictModal, setShowDistrictModal] = useState(false);\r\n  const [showPanchayathModal, setShowPanchayathModal] = useState(false);\r\n\r\n  const [districtName, setDistrictName] = useState('');\r\n  const [panchayathName, setPanchayathName] = useState('');\r\n  const [selectedDistrictId, setSelectedDistrictId] = useState<number>(0);\r\n\r\n  const [editingDistrictId, setEditingDistrictId] = useState<number | null>(null);\r\n  const [editingPanchayathId, setEditingPanchayathId] = useState<number | null>(null);\r\n\r\n  const fetchDistricts = async () => {\r\n    try {\r\n      const res = await fetch('https://localhost:7112/api/Districts');\r\n      const data = await res.json();\r\n      setDistricts(data);\r\n      console.log(data);\r\n\r\n      const panchayathRes = await fetch('https://localhost:7112/api/Panchayaths');\r\n      const panchayathData = await panchayathRes.json();\r\n      setPanchayaths(panchayathData);\r\n      console.log(panchayathData);\r\n    } catch (error) {\r\n      console.error('Error fetching data:', error);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchDistricts();\r\n  }, []);\r\n\r\n  const handleAddOrUpdateDistrict = async () => {\r\n    if (!districtName.trim()) return alert('Please enter a district name');\r\n\r\n    const body = JSON.stringify({ id: editingDistrictId || 0, name: districtName });\r\n    const method = editingDistrictId ? 'PUT' : 'POST';\r\n    const url = editingDistrictId\r\n      ? `https://localhost:7112/api/Districts/${editingDistrictId}`\r\n      : 'https://localhost:7112/api/Districts';\r\n\r\n    const res = await fetch(url, {\r\n      method,\r\n      headers: { 'Content-Type': 'application/json' },\r\n      body,\r\n    });\r\n\r\n    if (res.ok) {\r\n      setDistrictName('');\r\n      setEditingDistrictId(null);\r\n      setShowDistrictModal(false);\r\n      fetchDistricts();\r\n    } else {\r\n      alert('Failed to save district.');\r\n    }\r\n  };\r\n\r\n  const handleAddOrUpdatePanchayath = async () => {\r\n    if (!panchayathName.trim()) return alert('Please enter a panchayath name');\r\n    if (!selectedDistrictId) return alert('Please select a district');\r\n\r\n    const body = JSON.stringify({\r\n      id: editingPanchayathId || 0,\r\n      name: panchayathName,\r\n      DstId: selectedDistrictId,\r\n      status: 1,\r\n    });\r\n\r\n    const method = editingPanchayathId ? 'PUT' : 'POST';\r\n    const url = editingPanchayathId\r\n      ? `https://localhost:7112/api/Panchayaths/${editingPanchayathId}`\r\n      : 'https://localhost:7112/api/Panchayaths';\r\n\r\n    const res = await fetch(url, {\r\n      method,\r\n      headers: { 'Content-Type': 'application/json' },\r\n      body,\r\n    });\r\n\r\n    if (res.ok) {\r\n      setPanchayathName('');\r\n      setSelectedDistrictId(0);\r\n      setEditingPanchayathId(null);\r\n      setShowPanchayathModal(false);\r\n      fetchDistricts();\r\n    } else {\r\n      alert('Failed to save panchayath.');\r\n    }\r\n  };\r\n\r\n  const handleDelete = async (type: 'district' | 'panchayath', id: number) => {\r\n    const url =\r\n      type === 'district'\r\n        ? `https://localhost:7112/api/Districts/${id}`\r\n        : `https://localhost:7112/api/Panchayaths/${id}`;\r\n    const res = await fetch(url, { method: 'DELETE' });\r\n    if (res.ok) {\r\n      fetchDistricts();\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"p-6 space-y-12\">\r\n      <section>\r\n        <div className=\"flex justify-between mb-4\">\r\n          <h2 className=\"text-xl font-bold\">Districts</h2>\r\n          <button\r\n            onClick={() => {\r\n              setEditingDistrictId(null);\r\n              setDistrictName('');\r\n              setShowDistrictModal(true);\r\n            }}\r\n            className=\"bg-blue-600 text-white px-4 py-2 rounded\"\r\n          >\r\n            ➕ Add District\r\n          </button>\r\n        </div>\r\n        <table className=\"w-full border\">\r\n          <thead className=\"bg-gray-200\">\r\n            <tr>\r\n              <th className=\"p-2 text-left\">ID</th>\r\n              <th className=\"p-2 text-left\">Name</th>\r\n              <th className=\"p-2\">Actions</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {districts.map((d) => (\r\n              <tr key={d.id} className=\"border-t\">\r\n                <td className=\"p-2\">{d.id}</td>\r\n                <td className=\"p-2\">{d.name}</td>\r\n                <td className=\"p-2 flex gap-2 justify-center\">\r\n                  <button\r\n                    className=\"bg-yellow-400 px-2 py-1 rounded\"\r\n                    onClick={() => {\r\n                      setEditingDistrictId(d.id);\r\n                      setDistrictName(d.name);\r\n                      setShowDistrictModal(true);\r\n                    }}\r\n                  >\r\n                    Edit\r\n                  </button>\r\n                  <button\r\n                    className=\"bg-red-500 px-2 py-1 text-white rounded\"\r\n                    onClick={() => handleDelete('district', d.id)}\r\n                  >\r\n                    Delete\r\n                  </button>\r\n                </td>\r\n              </tr>\r\n            ))}\r\n          </tbody>\r\n        </table>\r\n      </section>\r\n\r\n      <section>\r\n        <div className=\"flex justify-between mb-4\">\r\n          <h2 className=\"text-xl font-bold\">Panchayaths</h2>\r\n          <button\r\n            onClick={() => {\r\n              setEditingPanchayathId(null);\r\n              setPanchayathName('');\r\n              setSelectedDistrictId(0);\r\n              setShowPanchayathModal(true);\r\n            }}\r\n            className=\"bg-green-600 text-white px-4 py-2 rounded\"\r\n          >\r\n            ➕ Add Panchayath\r\n          </button>\r\n        </div>\r\n        <table className=\"w-full border\">\r\n          <thead className=\"bg-gray-200\">\r\n            <tr>\r\n              <th className=\"p-2 text-left\">ID</th>\r\n              <th className=\"p-2 text-left\">District</th>\r\n              <th className=\"p-2 text-left\">Name</th>\r\n              <th className=\"p-2\">Actions</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {panchayaths.map((p) => (\r\n              <tr key={p.panchayathId} className=\"border-t\">\r\n                <td className=\"p-2\">{p.panchayathId}</td>\r\n                <td className=\"p-2\">{p.dstName}</td>\r\n                <td className=\"p-2\">{p.panchayathName}</td>\r\n                <td className=\"p-2 flex gap-2 justify-center\">\r\n                  <button\r\n                    className=\"bg-yellow-400 px-2 py-1 rounded\"\r\n                    onClick={() => {\r\n                      setEditingPanchayathId(p.panchayathId);\r\n                      setPanchayathName(p.panchayathName);\r\n                      setSelectedDistrictId(p.DstId);\r\n                      setShowPanchayathModal(true);\r\n                    }}\r\n                  >\r\n                    Edit\r\n                  </button>\r\n                  <button\r\n                    className=\"bg-red-500 px-2 py-1 text-white rounded\"\r\n                    onClick={() => handleDelete('panchayath', p.panchayathId)}\r\n                  >\r\n                    Delete\r\n                  </button>\r\n                </td>\r\n              </tr>\r\n            ))}\r\n          </tbody>\r\n        </table>\r\n      </section>\r\n\r\n      {/* District Modal */}\r\n      {showDistrictModal && (\r\n        <div className=\"fixed inset-0 bg-black/30 flex justify-center items-center\">\r\n          <div className=\"bg-white p-6 rounded-lg w-full max-w-sm\">\r\n            <h3 className=\"text-lg font-semibold mb-4\">\r\n              {editingDistrictId ? '✏️ Edit' : '➕ Add'} District\r\n            </h3>\r\n            <input\r\n              type=\"text\"\r\n              value={districtName}\r\n              onChange={(e) => setDistrictName(e.target.value)}\r\n              className=\"w-full border px-3 py-2 mb-4 rounded\"\r\n              placeholder=\"District Name\"\r\n            />\r\n            <div className=\"flex justify-end gap-2\">\r\n              <button\r\n                onClick={() => setShowDistrictModal(false)}\r\n                className=\"border px-4 py-2 rounded\"\r\n              >\r\n                Cancel\r\n              </button>\r\n              <button\r\n                onClick={handleAddOrUpdateDistrict}\r\n                className=\"bg-blue-600 text-white px-4 py-2 rounded\"\r\n              >\r\n                Save\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Panchayath Modal */}\r\n      {showPanchayathModal && (\r\n        <div className=\"fixed inset-0 bg-black/30 flex justify-center items-center\">\r\n          <div className=\"bg-white p-6 rounded-lg w-full max-w-sm\">\r\n            <h3 className=\"text-lg font-semibold mb-4\">\r\n              {editingPanchayathId ? '✏️ Edit' : '➕ Add'} Panchayath\r\n            </h3>\r\n            <input\r\n              type=\"text\"\r\n              value={panchayathName}\r\n              onChange={(e) => setPanchayathName(e.target.value)}\r\n              className=\"w-full border px-3 py-2 mb-4 rounded\"\r\n              placeholder=\"Panchayath Name\"\r\n            />\r\n            <select\r\n              value={selectedDistrictId}\r\n              onChange={(e) => setSelectedDistrictId(Number(e.target.value))}\r\n              className=\"w-full border px-3 py-2 mb-4 rounded\"\r\n            >\r\n              <option value={0}>Select District</option>\r\n              {districts.map((d) => (\r\n                <option key={d.id} value={d.id}>\r\n                  {d.name}\r\n                </option>\r\n              ))}\r\n            </select>\r\n            <div className=\"flex justify-end gap-2\">\r\n              <button\r\n                onClick={() => setShowPanchayathModal(false)}\r\n                className=\"border px-4 py-2 rounded\"\r\n              >\r\n                Cancel\r\n              </button>\r\n              <button\r\n                onClick={handleAddOrUpdatePanchayath}\r\n                className=\"bg-green-600 text-white px-4 py-2 rounded\"\r\n              >\r\n                Save\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}}]
}