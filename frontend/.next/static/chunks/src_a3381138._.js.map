{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///D:/Projects/HOSPITALAPP/hospitalapp/src/lib/axios.ts"],"sourcesContent":["import axios from \"axios\";\r\n\r\nconst API = axios.create({\r\n  baseURL: \"https://localhost:7112\", // update to your .NET API URL\r\n});\r\n\r\n// // âœ… Automatically attach JWT token\r\n// API.interceptors.request.use((config) => {\r\n//   const token = localStorage.getItem(\"token\");\r\n\r\n//   if (token) {\r\n//     config.headers.Authorization = `Bearer ${token}`;\r\n//   }\r\n\r\n//   return config;\r\n// });\r\n\r\nexport default API;\r\n"],"names":[],"mappings":";;;AAAA;;AAEA,MAAM,MAAM,wIAAA,CAAA,UAAK,CAAC,MAAM,CAAC;IACvB,SAAS;AACX;uCAae","debugId":null}},
    {"offset": {"line": 25, "column": 0}, "map": {"version":3,"sources":["file:///D:/Projects/HOSPITALAPP/hospitalapp/src/app/%28dashboard%29/volunteer-consultations/details/page.tsx"],"sourcesContent":["'use client';\r\nimport React, { useState, useEffect } from 'react';\r\nimport { useSearchParams, useRouter } from 'next/navigation';\r\nimport { User, Calendar, VenetianMask, Heart, Plus, FileText, Clipboard, AlertCircle, Edit, FilePen, Printer } from 'lucide-react';\r\nimport API from '@/lib/axios';\r\n\r\ninterface PatientInfo {\r\n    name: string;\r\n    age: string;\r\n    gender: string;\r\n}\r\n\r\ninterface PatientData {\r\n    name: string;\r\n    age: string;\r\n    gender: string;\r\n    [key: string]: any;\r\n}\r\n\r\ninterface Volunteer {\r\n    volName?: string;\r\n}\r\n\r\ninterface PatientAssignment {\r\n    assignmentId: string;\r\n    patientId: string;\r\n    date: string;\r\n    time: string;\r\n    volunteerName: string;\r\n    description: string;\r\n    status?: string;\r\n    [key: string]: any;\r\n}\r\n\r\ninterface VolunteerNote {\r\n    id: number;\r\n    assignmentId: string;\r\n    symptoms: string;\r\n    volActivitiesDesc: string;\r\n    date: string;\r\n    volunteerName?: string;\r\n}\r\n\r\ninterface AssignmentWithData {\r\n    assignment: PatientAssignment;\r\n    notes: VolunteerNote[];\r\n}\r\n\r\ninterface CreateAssignmentRequest {\r\n    patientId: string;\r\n    date: string;\r\n    time: string;\r\n    volunteerName: string;\r\n    description: string;\r\n    status: string;\r\n}\r\n\r\ninterface CreateAssignmentResponse {\r\n    assignmentId: string;\r\n    [key: string]: any;\r\n}\r\n\r\nconst PatientVisitHistoryPage = () => {\r\n    const [activeTab, setActiveTab] = useState<'notes' | 'reviews'>('notes');\r\n    const [patientId, setPatientId] = useState<string>('');\r\n    const [patientInfo, setPatientInfo] = useState<PatientInfo>({\r\n        name: '',\r\n        age: '',\r\n        gender: '',\r\n    });\r\n\r\n    const [loading, setLoading] = useState(true);\r\n    const [error, setError] = useState<string>('');\r\n    const [todayAssignmentId, setTodayAssignmentId] = useState<string | null>(null);\r\n    const [todayAssignment, setTodayAssignment] = useState<PatientAssignment | null>(null);\r\n    const [refreshKey, setRefreshKey] = useState(0);\r\n\r\n    const searchParams = useSearchParams();\r\n    const router = useRouter();\r\n\r\n    // Get patientId from URL\r\n    const [assignmentId, setAssignmentId] = useState<string | null>(null);\r\n    const [assignmentsWithData, setAssignmentsWithData] = useState<AssignmentWithData[]>([]);\r\n\r\n    useEffect(() => {\r\n        const patient = searchParams.get('patientId');\r\n        const assignment = searchParams.get('assignmentId');\r\n\r\n        if (!patient) {\r\n            setError('Patient ID is missing from the URL');\r\n            setLoading(false);\r\n            return;\r\n        }\r\n        setPatientId(patient);\r\n        setAssignmentId(assignment);\r\n    }, [searchParams]);\r\n\r\n    // New effect to watch for ?refresh=1 and trigger reload\r\n    useEffect(() => {\r\n        const refresh = searchParams.get('refresh');\r\n        if (refresh === '1') {\r\n            setRefreshKey(prev => prev + 1);\r\n\r\n            const newParams = new URLSearchParams(searchParams);\r\n            newParams.delete('refresh');\r\n\r\n            router.replace(`${window.location.pathname}${newParams.toString() ? '?' + newParams.toString() : ''}`);\r\n        }\r\n    }, [searchParams, router]);\r\n\r\n    const formatDateLocal = (dateStr: string) => {\r\n        const d = new Date(dateStr);\r\n        return d.getFullYear() + '-' + String(d.getMonth() + 1).padStart(2, '0') + '-' + String(d.getDate()).padStart(2, '0');\r\n    };\r\n\r\n    // Fetch patient data and all related consultation data\r\n    useEffect(() => {\r\n        if (!patientId) return;\r\n\r\n        const fetchData = async () => {\r\n            try {\r\n                setLoading(true);\r\n                setError('');\r\n\r\n                // 1) Fetch patient info\r\n                const patientRes = await API.get<PatientData>(`/api/Hpforms/patient/${patientId}`);\r\n                const patientData = patientRes.data || {};\r\n                setPatientInfo({\r\n                    name: patientData.name || '',\r\n                    age: patientData.age || '',\r\n                    gender: patientData.gender || ''\r\n                });\r\n\r\n                // 2) Fetch all assignments\r\n                const assignmentsRes = await API.get<any[]>(`/api/PatientAssignments/byPatientId/${patientId}`);\r\n                let patientAssignments: PatientAssignment[] = [];\r\n\r\n                if (Array.isArray(assignmentsRes.data)) {\r\n                    patientAssignments = assignmentsRes.data.map(a => ({\r\n                        ...a,\r\n                        volunteerId: (a.VolunteerId ?? a.volunteerId ?? '').toString(),\r\n                        assignmentId: a.AssignmentId ?? a.assignmentId,\r\n                    }))\r\n                        .sort((a, b) => new Date(b.date).getTime() - new Date(a.date).getTime());\r\n                }\r\n\r\n                // 3) build assignmentsWithData: get volunteer name, notes, reviews\r\n                const assignmentsWithDataPromises = patientAssignments.map(async (assignment): Promise<AssignmentWithData> => {\r\n\r\n                    // volunteer name (graceful)\r\n                    let volunteerName = '-';\r\n                    if (assignment.volunteerId) {\r\n                        try {\r\n                            const docRes = await API.get<Volunteer>(`/api/Volunteers/by-vol-id/${assignment.volunteerId}`)\r\n                            volunteerName = docRes?.data?.volName ?? '-';\r\n                        } catch (err) {\r\n                            console.warn(`[DEBUG] volunteer fetch failed for ${assignment.volunteerId}`, err);\r\n                            volunteerName = '-';\r\n                        }\r\n                    }\r\n\r\n                    // Always fetch notes\r\n                    let notes: VolunteerNote[] = [];\r\n                    try {\r\n                        const notesRes = await API.get<VolunteerNote[]>(`/api/VolunteersNotes/by-assignment/${assignment.assignmentId}`);\r\n                        notes = Array.isArray(notesRes.data) ? notesRes.data : [];\r\n                    } catch (err: any) {\r\n                        if (err?.response?.status !== 404) console.error(`[DEBUG] error fetching notes for ${assignment.assignmentId}`, err);\r\n                    }\r\n\r\n                    return {\r\n                        assignment: {\r\n                            ...assignment,\r\n                            volunteerName,\r\n                            hasNote: notes.length > 0\r\n                        },\r\n                        notes\r\n                    };\r\n                });\r\n\r\n                const assignmentsWithDataResult = await Promise.all(assignmentsWithDataPromises);\r\n                setAssignmentsWithData(assignmentsWithDataResult);\r\n\r\n                // 4) Detect separately when finding today's assignment:\r\n                const today = formatDateLocal(new Date().toISOString());\r\n                const todayAssignmentData = assignmentsWithDataResult.find(item =>\r\n                    formatDateLocal(item.assignment.date) === today\r\n                );\r\n                setTodayAssignmentId(todayAssignmentData?.assignment.assignmentId || null);\r\n                setTodayAssignment(todayAssignmentData?.assignment || null);\r\n\r\n            } catch (err) {\r\n                console.error('Error fetching data:', err);\r\n                setError('Failed to load patient data and consultation history');\r\n            } finally {\r\n                setLoading(false);\r\n            }\r\n        };\r\n\r\n        fetchData();\r\n    }, [patientId, refreshKey]);\r\n\r\n    // Helper functions to check if new buttons should be enabled\r\n    const canAddNewNote = () => {\r\n        const today = formatDateLocal(new Date().toISOString());\r\n        const todayData = assignmentsWithData.find(item =>\r\n            formatDateLocal(item.assignment.date) === today\r\n        );\r\n        return !!todayData && todayData.notes.length === 0;\r\n    };\r\n\r\n    // Filter assignments to only show those with completed forms\r\n    const assignmentsWithNotes = assignmentsWithData.filter(item => item.assignment.hasNote);\r\n\r\n    const handleNewNote = () => {\r\n        if (canAddNewNote()) {\r\n            router.push(`/volunteersnote?patientId=${patientId}&assignmentId=${todayAssignmentId}`);\r\n        } else if (!todayAssignmentId) {\r\n            setError('No assignment found for today. Please assign this patient first.');\r\n        } else if (todayAssignment?.hasNote) {\r\n            setError('Note has already been submitted for today\\'s assignment.');\r\n        }\r\n    };\r\n\r\n    const handleEditNote = (assignmentId: string) => {\r\n        router.push(`/volunteersnote?patientId=${patientId}&assignmentId=${assignmentId}`);\r\n    };\r\n\r\n    const handlePrintNote = (assignmentId: string) => {\r\n        router.push(`/volunteersnote/view?patientId=${patientId}&assignmentId=${assignmentId}`);\r\n    };\r\n\r\n    if (loading) {\r\n        return (\r\n            <div className=\"min-h-screen w-full max-w-screen bg-gradient-to-br from-blue-50 to-blue-100 flex items-center justify-center\">\r\n                <div className=\"text-blue-600 text-lg\">Loading consultation data...</div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    if (error) {\r\n        return (\r\n            <div className=\"min-h-screen w-full max-w-screen bg-gradient-to-br from-blue-50 to-blue-100 flex items-center justify-center\">\r\n                <div className=\"bg-white p-6 rounded-lg shadow-lg border border-red-200\">\r\n                    <div className=\"flex items-center gap-3 text-red-600\">\r\n                        <AlertCircle className=\"w-6 h-6\" />\r\n                        <span className=\"text-lg font-medium\">{error}</span>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <div className=\"min-h-screen w-full max-w-screen bg-gradient-to-br from-blue-50 to-blue-100 px-0 sm:px-0 py-0\">\r\n            {/* Header */}\r\n            <div className=\"bg-gradient-to-r from-blue-900 to-blue-700 text-white p-4 text-center sm:p-6 shadow-lg\">\r\n                <div className=\"flex justify-center items-center gap-3 mb-3\">\r\n                    <h1 className=\"text-2xl sm:text-3xl font-light\">Volunteer Consultations</h1>\r\n                    <Heart className=\"w-6 h-6 text-blue-200\" />\r\n                </div>\r\n                <p className=\"text-sm sm:text-lg text-blue-200\">\r\n                    Patient Consultation History & Medical Records\r\n                </p>\r\n            </div>\r\n\r\n            {/* Form */}\r\n            <div className=\"p-2 sm:p-4 lg:p-6\">\r\n                <div className=\"space-y-4 sm:space-y-6\">\r\n                    {/* Patient ID Display */}\r\n                    <div className=\"text-sm sm:text-base font-medium text-blue-900 mb-4 px-2 sm:px-4\">\r\n                        <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\r\n                            {/* Patient ID Display */}\r\n                            <div className=\"flex justify-start\">\r\n                                <div className=\"flex items-center gap-2 bg-blue-50 text-blue-900 px-3 py-1.5 rounded-lg shadow-sm border border-blue-200 w-fit max-w-xs\">\r\n                                    <span className=\"font-semibold\">Patient ID:</span>\r\n                                    <span className=\"text-sm\">{patientId}</span>\r\n                                </div>\r\n                            </div>\r\n                            {/* Total Visits */}\r\n                            <div className=\"flex justify-start\">\r\n                                <div className=\"flex items-center gap-2 bg-blue-50 text-blue-900 px-3 py-1.5 rounded-lg shadow-sm border border-blue-200 w-fit max-w-xs\">\r\n                                    <span className=\"font-semibold\">Total Visits:</span>\r\n                                    <span className=\"text-sm\">\r\n                                        {assignmentsWithData.filter(a => a.notes.length > 0).length}\r\n                                    </span>\r\n                                </div>\r\n                            </div>\r\n\r\n                            {/* Current Date Display */}\r\n                            <div className=\"flex justify-start\">\r\n                                <div className=\"flex items-center gap-2 bg-blue-50 text-blue-900 px-3 py-1.5 rounded-lg shadow-sm border border-blue-200 w-fit max-w-xs\">\r\n                                    <span className=\"font-semibold\">Date:</span>\r\n                                    <span className=\"text-sm\">{new Date().toLocaleDateString()}</span>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n                    {/* Patient Information Display */}\r\n                    <div className=\"bg-white p-4 rounded-lg shadow-sm border border-gray-200\">\r\n                        <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\r\n                            {/* Name */}\r\n                            <div>\r\n                                <label className=\"block text-xs font-semibold text-blue-900 mb-1 uppercase tracking-wide\">\r\n                                    Name\r\n                                </label>\r\n                                <div className=\"flex items-center border border-gray-300 rounded-md bg-gray-100 px-2\">\r\n                                    <User className=\"w-4 h-4 text-blue-700 mr-2\" />\r\n                                    <input\r\n                                        type=\"text\"\r\n                                        value={patientInfo.name || '-'}\r\n                                        readOnly\r\n                                        className=\"w-full py-2 bg-transparent text-sm text-blue-800 focus:outline-none\"\r\n                                    />\r\n                                </div>\r\n                            </div>\r\n\r\n                            {/* Age */}\r\n                            <div>\r\n                                <label className=\"block text-xs font-semibold text-blue-900 mb-1 uppercase tracking-wide\">\r\n                                    Age\r\n                                </label>\r\n                                <div className=\"flex items-center border border-gray-300 rounded-md bg-gray-100 px-2\">\r\n                                    <Calendar className=\"w-4 h-4 text-blue-700 mr-2\" />\r\n                                    <input\r\n                                        type=\"text\"\r\n                                        value={patientInfo.age || '-'}\r\n                                        readOnly\r\n                                        className=\"w-full py-2 bg-transparent text-sm text-blue-800 focus:outline-none\"\r\n                                    />\r\n                                </div>\r\n                            </div>\r\n\r\n                            {/* Gender */}\r\n                            <div>\r\n                                <label className=\"block text-xs font-semibold text-blue-900 mb-1 uppercase tracking-wide\">\r\n                                    Gender\r\n                                </label>\r\n                                <div className=\"flex items-center border border-gray-300 rounded-md bg-gray-100 px-2\">\r\n                                    <VenetianMask className=\"w-4 h-4 text-blue-700 mr-2\" />\r\n                                    <input\r\n                                        type=\"text\"\r\n                                        value={patientInfo.gender || '-'}\r\n                                        readOnly\r\n                                        className=\"w-full py-2 bg-transparent text-sm text-blue-800 focus:outline-none\"\r\n                                    />\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n                    {/* Tabs Navigation */}\r\n                    <div className=\"bg-white rounded-lg shadow-lg overflow-hidden\">\r\n                        <div className=\"flex border-b border-gray-200\">\r\n                            <button\r\n                                onClick={() => setActiveTab('notes')}\r\n                                className={`flex-1 px-6 py-4 text-sm font-semibold transition-colors duration-200 flex items-center justify-center gap-2 ${activeTab === 'notes'\r\n                                    ? 'bg-blue-600 text-white border-b-2 border-blue-600'\r\n                                    : 'bg-gray-50 text-blue-600 hover:bg-blue-50'\r\n                                    }`}\r\n                            >\r\n                                <FileText className=\"w-4 h-4\" />\r\n                                Notes\r\n                            </button>\r\n                        </div>\r\n\r\n                        {/* Tab Content */}\r\n                        <div className=\"p-6\">\r\n                            {/* Notes Tab */}\r\n                            {activeTab === 'notes' && (\r\n                                <div>\r\n                                    <div className=\"flex justify-between items-center mb-4\">\r\n                                        <h3 className=\"text-lg font-bold text-blue-900 uppercase tracking-wide\">\r\n                                            Medical Notes by Visit\r\n                                        </h3>\r\n                                        <button\r\n                                            onClick={handleNewNote}\r\n                                            disabled={!canAddNewNote()}\r\n                                            className=\"flex items-center gap-2 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed\"\r\n                                            title={\r\n                                                !todayAssignmentId\r\n                                                    ? \"No assignment for today. Please assign this patient first.\"\r\n                                                    : todayAssignment?.hasNote\r\n                                                        ? \"Note has already been submitted for today's assignment\"\r\n                                                        : \"Add new consultation note\"\r\n                                            }\r\n                                        >\r\n                                            <Plus className=\"w-4 h-4\" />\r\n                                            New Note\r\n                                        </button>\r\n                                    </div>\r\n\r\n                                    {assignmentsWithNotes.length > 0 ? (\r\n                                        <div className=\"overflow-x-auto\">\r\n                                            <table className=\"w-full border-collapse border border-gray-300\">\r\n                                                <thead>\r\n                                                    <tr className=\"bg-blue-50\">\r\n                                                        <th className=\"border border-gray-300 px-3 py-2 text-left font-semibold text-blue-900 w-[12%]\">\r\n                                                            Assignment ID\r\n                                                        </th>\r\n                                                        <th className=\"border border-gray-300 px-3 py-2 text-left font-semibold text-blue-900 w-[12%]\">\r\n                                                            Visit Date\r\n                                                        </th>\r\n                                                        <th className=\"border border-gray-300 px-3 py-2 text-left font-semibold text-blue-900 w-[20%]\">\r\n                                                            Description\r\n                                                        </th>\r\n                                                        <th className=\"border border-gray-300 px-3 py-2 text-left font-semibold text-blue-900 w-[15%]\">\r\n                                                            Volunteer\r\n                                                        </th>\r\n                                                        <th className=\"border border-gray-300 px-3 py-2 text-center font-semibold text-blue-900 w-[18%]\">\r\n                                                            Actions\r\n                                                        </th>\r\n                                                    </tr>\r\n                                                </thead>\r\n                                                <tbody>\r\n                                                    {assignmentsWithNotes.map((item) => (\r\n                                                        <tr key={item.assignment.assignmentId} className=\"hover:bg-gray-50\">\r\n                                                            <td className=\"border border-gray-300 px-3 py-2 text-sm\">\r\n                                                                {item.assignment.assignmentId}\r\n                                                            </td>\r\n                                                            <td className=\"border border-gray-300 px-3 py-2 text-sm\">\r\n                                                                {new Date(item.assignment.date).toLocaleDateString()}\r\n                                                            </td>\r\n                                                            <td className=\"border border-gray-300 px-3 py-2 text-sm\">\r\n                                                                {item.notes.length > 0 ? (\r\n                                                                    <div className=\"space-y-1\">\r\n                                                                        {item.notes.map((note, index) => (\r\n                                                                            <div key={index} className=\"text-xs\">\r\n                                                                                {note.volActivitiesDesc}\r\n                                                                            </div>\r\n                                                                        ))}\r\n                                                                    </div>\r\n                                                                ) : (\r\n                                                                    <span className=\"text-gray-400\">No diagnosis</span>\r\n                                                                )}\r\n                                                            </td>\r\n                                                            <td className=\"border border-gray-300 px-3 py-2 text-sm\">\r\n                                                                {item.assignment.volunteerName || '-'}\r\n                                                            </td>\r\n                                                            <td className=\"border border-gray-300 px-3 py-2 text-center\">\r\n                                                                <button\r\n                                                                    onClick={() => handleEditNote(item.assignment.assignmentId)}\r\n                                                                    className=\"text-blue-600 hover:text-blue-800 p-1.5 rounded hover:bg-blue-100 transition-all\"\r\n                                                                    title=\"Edit Note\"\r\n                                                                >\r\n                                                                    <FilePen className=\"w-4 h-4\" />\r\n                                                                </button>\r\n                                                                {/* View/Print */}\r\n                                                                <button\r\n                                                                    onClick={() => handlePrintNote(item.assignment.assignmentId)}\r\n                                                                    className=\"text-green-600 hover:text-green-800 p-1.5 rounded hover:bg-green-100 transition-all ml-2\"\r\n                                                                    title=\"View / Print\"\r\n                                                                >\r\n                                                                    <Printer className=\"w-4 h-4\" />\r\n                                                                </button>\r\n                                                            </td>\r\n                                                        </tr>\r\n                                                    ))}\r\n                                                </tbody>\r\n                                            </table>\r\n\r\n                                        </div>\r\n                                    ) : (\r\n                                        <div className=\"text-center py-8 text-gray-500\">\r\n                                            <FileText className=\"w-12 h-12 mx-auto mb-3 text-gray-300\" />\r\n                                            <p className=\"text-lg\">No visits found for this patient.</p>\r\n                                            <p className=\"text-sm\">This patient needs to be assigned first to create consultation notes.</p>\r\n                                        </div>\r\n                                    )}\r\n                                </div>\r\n                            )}\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default PatientVisitHistoryPage;"],"names":[],"mappings":"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","debugId":null}}]
}