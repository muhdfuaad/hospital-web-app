{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///D:/Projects/HOSPITALAPP/hospitalapp/src/app/%28dashboard%29/purchasebill/page.tsx"],"sourcesContent":["\r\n'use client';\r\nimport React, { useState, useEffect, useRef } from 'react';\r\nimport { Combobox } from '@headlessui/react';\r\nimport { Trash2, Plus, X, User, Users, Edit, Save, ChevronDown } from 'lucide-react';\r\n\r\n// Types\r\ninterface Supplier {\r\n    id: number;\r\n    name: string;\r\n    address: string;\r\n    gstNo: string;\r\n}\r\n\r\ninterface Medicine {\r\n    id: number;\r\n    medicineName: string;\r\n    purchaseRate: number;\r\n    salesRate: number;\r\n    gst: number;\r\n    hsnCode: string;\r\n}\r\n\r\ninterface PurchaseItem {\r\n    id: number;\r\n    itemCode: string;\r\n    medicineId: number;\r\n    medicineName: string;\r\n\r\n    batchNo: string;\r\n    expiryDate: string;\r\n    qty: number;\r\n    freeQty: number;\r\n    purchaseRate: number;\r\n    salesRate: number;\r\n    gst: number;\r\n    amount: number;\r\n    hsnCode: string;\r\n}\r\n\r\ninterface PurchaseBill {\r\n    purchaseId: number;\r\n    date: string;\r\n    supplierId: number;\r\n    supplierName: string;\r\n    supplierAddress: string;\r\n    gst: string;\r\n    invoiceNo: string;\r\n    invoiceDate: string;\r\n    paymentType: string;\r\n    items: PurchaseItem[];\r\n    grossTotal: number;\r\n    gstTotal: number;\r\n    roundOff: number;\r\n    discount: number;\r\n    cgst: number;\r\n    sgst: number;\r\n    igst: number;\r\n    cessAmount: number;\r\n    finalTotal: number;\r\n}\r\n\r\nconst PurchaseBillPage: React.FC = () => {\r\n    const [purchaseBill, setPurchaseBill] = useState<PurchaseBill>({\r\n        purchaseId: 1,\r\n        date: new Date().toISOString().split('T')[0],\r\n        supplierId: 0,\r\n        supplierName: '',\r\n        supplierAddress: '',\r\n        gst: '',\r\n        invoiceNo: '',\r\n        invoiceDate: new Date().toISOString().split('T')[0],\r\n        paymentType: 'Credit',\r\n        items: [\r\n            {\r\n                id: Date.now(),\r\n                itemCode: '',\r\n                medicineId: 0,\r\n                medicineName: '',\r\n                batchNo: '',\r\n                expiryDate: '',\r\n                qty: 1,\r\n                freeQty: 0,\r\n                purchaseRate: 0,\r\n                salesRate: 0,\r\n                gst: 0,\r\n                amount: 0,\r\n                hsnCode: ''\r\n            }\r\n        ],\r\n        grossTotal: 0,\r\n        gstTotal: 0,\r\n        roundOff: 0,\r\n        discount: 0,\r\n        cgst: 0,\r\n        sgst: 0,\r\n        igst: 0,\r\n        cessAmount: 0,\r\n        finalTotal: 0\r\n    });\r\n\r\n    const [suppliers, setSuppliers] = useState<Supplier[]>([]);\r\n    const [medicines, setMedicines] = useState<Medicine[]>([]);\r\n    const [medicineSearches, setMedicineSearches] = useState<{ [key: number]: string }>({});\r\n    const [loading, setLoading] = useState(false);\r\n    const [editingItem, setEditingItem] = useState<number | null>(null);\r\n\r\n    const [dropdownPosition, setDropdownPosition] = useState<{ top: number; left: number; width: number } | null>(null);\r\n    const inputRefs = useRef<{ [key: number]: HTMLInputElement | null }>({});\r\n\r\n\r\n    // Fetch suppliers from API\r\n    useEffect(() => {\r\n        const fetchSuppliers = async () => {\r\n            try {\r\n                const res = await fetch('https://localhost:7112/api/Suppliers');\r\n                const data = await res.json();\r\n                setSuppliers(data);\r\n            } catch (error) {\r\n                console.error('Error fetching suppliers:', error);\r\n            }\r\n        };\r\n        fetchSuppliers();\r\n    }, []);\r\n\r\n    // Fetch medicines from API\r\n    useEffect(() => {\r\n        const fetchMedicines = async () => {\r\n            try {\r\n                const res = await fetch('https://localhost:7112/api/Medicines/dropdown');\r\n                if (!res.ok) {\r\n                    throw new Error('Failed to fetch medicines');\r\n                }\r\n                const medicineData = await res.json();\r\n                setMedicines(medicineData);\r\n            } catch (error) {\r\n                console.error('Error fetching medicines:', error);\r\n            }\r\n        };\r\n        fetchMedicines();\r\n    }, []);\r\n\r\n    // Fetch supplier details\r\n    const fetchSupplierDetails = async () => {\r\n        if (!purchaseBill.supplierId) return;\r\n\r\n        setLoading(true);\r\n        try {\r\n            const selectedSupplier = suppliers.find(s => s.id === purchaseBill.supplierId);\r\n            if (selectedSupplier) {\r\n                setPurchaseBill(prev => ({\r\n                    ...prev,\r\n                    supplierName: selectedSupplier.name,\r\n                    supplierAddress: selectedSupplier.address,\r\n                    gst: selectedSupplier.gstNo\r\n                }));\r\n            }\r\n        } catch (error) {\r\n            console.error('Error fetching supplier details:', error);\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    // Add new item row\r\n    const addItem = () => {\r\n        const newItem: PurchaseItem = {\r\n            id: Date.now(),\r\n            itemCode: '',\r\n            medicineId: 0,\r\n            medicineName: '',\r\n            batchNo: '',\r\n            expiryDate: '',\r\n            qty: 1,\r\n            freeQty: 0,\r\n            purchaseRate: 0,\r\n            salesRate: 0,\r\n            gst: 0,\r\n            amount: 0,\r\n            hsnCode: ''\r\n        };\r\n\r\n        setPurchaseBill(prev => ({\r\n            ...prev,\r\n            items: [...prev.items, newItem]\r\n        }));\r\n    };\r\n\r\n    // Remove item\r\n    const removeItem = (itemId: number) => {\r\n        setPurchaseBill(prev => ({\r\n            ...prev,\r\n            items: prev.items.filter(item => item.id !== itemId)\r\n        }));\r\n    };\r\n\r\n    // Update item\r\n    const updateItem = (itemId: number, field: keyof PurchaseItem, value: any) => {\r\n        setPurchaseBill(prev => ({\r\n            ...prev,\r\n            items: prev.items.map(item => {\r\n                if (item.id === itemId) {\r\n                    const updatedItem = { ...item };\r\n\r\n                    if (field === 'qty' || field === 'freeQty' || field === 'purchaseRate' || field === 'salesRate' || field === 'gst') {\r\n                        (updatedItem as any)[field] = parseFloat(value) || 0;\r\n                    } else {\r\n                        (updatedItem as any)[field] = value;\r\n                    }\r\n\r\n                    // Recalculate amount\r\n                    const baseAmount = updatedItem.qty * updatedItem.purchaseRate;\r\n                    const gstAmount = (baseAmount * updatedItem.gst) / 100;\r\n                    updatedItem.amount = baseAmount + gstAmount;\r\n\r\n                    return updatedItem;\r\n                }\r\n                return item;\r\n            })\r\n        }));\r\n    };\r\n\r\n    // Filter medicines based on search term\r\n    const getFilteredMedicines = (itemId: number) => {\r\n        const searchTerm = medicineSearches[itemId] || '';\r\n        return medicines.filter((medicine) =>\r\n            medicine.medicineName?.toLowerCase().startsWith(searchTerm.toLowerCase())\r\n        );\r\n    };\r\n\r\n    // Calculate totals\r\n    useEffect(() => {\r\n        const grossTotal = purchaseBill.items.reduce((sum, item) => sum + (item.qty * item.purchaseRate), 0);\r\n        const gstTotal = purchaseBill.items.reduce((sum, item) => sum + ((item.qty * item.purchaseRate * item.gst) / 100), 0);\r\n        const cgst = gstTotal / 2;\r\n        const sgst = gstTotal / 2;\r\n        const roundOff = Math.round((grossTotal + gstTotal - purchaseBill.discount) * 100) / 100 - (grossTotal + gstTotal - purchaseBill.discount);\r\n        const finalTotal = grossTotal + gstTotal - purchaseBill.discount + roundOff + purchaseBill.cessAmount;\r\n\r\n        setPurchaseBill(prev => ({\r\n            ...prev,\r\n            grossTotal,\r\n            gstTotal,\r\n            cgst,\r\n            sgst,\r\n            roundOff,\r\n            finalTotal\r\n        }));\r\n    }, [purchaseBill.items, purchaseBill.discount, purchaseBill.cessAmount]);\r\n\r\n    // Save purchase bill\r\n    const savePurchaseBill = async () => {\r\n        try {\r\n            console.log('Saving purchase bill:', JSON.stringify(purchaseBill, null, 2));\r\n            alert('Purchase bill saved successfully!');\r\n        } catch (err) {\r\n            console.error('Failed to save purchase bill:', err);\r\n        }\r\n    };\r\n\r\n    // Cancel purchase bill\r\n    const cancelPurchaseBill = () => {\r\n        const confirmed = window.confirm('Are you sure you want to cancel this bill?');\r\n\r\n        if (confirmed) {\r\n            setPurchaseBill((prev) => ({\r\n                ...prev,\r\n                cancelled: true, // add a cancelled flag to the bill object\r\n                items: prev.items.map((item) => ({\r\n                    ...item,\r\n                    medicineName: `[CANCELLED] ${item.medicineName}`,\r\n                    isCancelled: true, // optional for UI styling\r\n                })),\r\n            }));\r\n\r\n            alert('Purchase bill marked as CANCELLED!');\r\n        }\r\n    };\r\n\r\n\r\n    return (\r\n        <div className=\"min-h-screen bg-gradient-to-br from-blue-50 to-blue-100\">\r\n            {/* Header */}\r\n            <div className=\"bg-gradient-to-r from-blue-600 to-blue-800 text-white p-4 sm:p-6 shadow-lg\">\r\n                <h1 className=\"text-2xl sm:text-3xl lg:text-4xl font-bold text-center\">Purchase Bill</h1>\r\n            </div>\r\n\r\n            {/* Form Section */}\r\n            <div className=\"p-3 sm:p-4 lg:p-6 bg-white\">\r\n                <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-6 gap-3 sm:gap-4\">\r\n                    {/* Purchase ID */}\r\n                    <div className=\"lg:col-span-1\">\r\n                        <label className=\"block text-sm font-semibold text-blue-900 mb-1\">Purchase ID</label>\r\n                        <input\r\n                            type=\"text\"\r\n                            value={purchaseBill.purchaseId}\r\n                            readOnly\r\n                            className=\"w-full px-3 py-2 border border-blue-300 rounded-lg bg-blue-50 text-blue-900 font-medium focus:outline-none\"\r\n                        />\r\n                    </div>\r\n\r\n                    {/* Date */}\r\n                    <div className=\"lg:col-span-1\">\r\n                        <label className=\"block text-sm font-semibold text-blue-900 mb-1\">Date</label>\r\n                        <input\r\n                            type=\"date\"\r\n                            value={purchaseBill.date}\r\n                            onChange={(e) => setPurchaseBill(prev => ({ ...prev, date: e.target.value }))}\r\n                            className=\"w-full px-3 py-2 border border-blue-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n                        />\r\n                    </div>\r\n\r\n                    {/* Supplier ID */}\r\n                    <div className=\"lg:col-span-1\">\r\n                        <label className=\"block text-sm font-semibold text-blue-900 mb-1\">Supplier ID</label>\r\n                        <div className=\"flex items-center\">\r\n                            <select\r\n                                value={purchaseBill.supplierId}\r\n                                onChange={(e) => setPurchaseBill(prev => ({ ...prev, supplierId: Number(e.target.value) }))}\r\n                                className=\"w-full px-3 py-2 border border-blue-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n                            >\r\n                                <option value={0}>Select</option>\r\n                                {suppliers.map(supplier => (\r\n                                    <option key={supplier.id} value={supplier.id}>\r\n                                        {supplier.id}\r\n                                    </option>\r\n                                ))}\r\n                            </select>\r\n                            <button\r\n                                onClick={fetchSupplierDetails}\r\n                                disabled={!purchaseBill.supplierId || loading}\r\n                                className=\"ml-2 px-3 py-2 text-sm rounded-lg bg-sky-500 hover:bg-sky-600 text-white disabled:bg-gray-400 focus:outline-none\"\r\n                            >\r\n                                GET\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n\r\n                    {/* Invoice No */}\r\n                    <div className=\"lg:col-span-1\">\r\n                        <label className=\"block text-sm font-semibold text-blue-900 mb-1\">Invoice No</label>\r\n                        <input\r\n                            type=\"text\"\r\n                            value={purchaseBill.invoiceNo}\r\n                            onChange={(e) => setPurchaseBill(prev => ({ ...prev, invoiceNo: e.target.value }))}\r\n                            className=\"w-full px-3 py-2 border border-blue-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n                        />\r\n                    </div>\r\n\r\n                    {/* Invoice Date */}\r\n                    <div className=\"lg:col-span-1\">\r\n                        <label className=\"block text-sm font-semibold text-blue-900 mb-1\">Invoice Date</label>\r\n                        <input\r\n                            type=\"date\"\r\n                            value={purchaseBill.invoiceDate}\r\n                            onChange={(e) => setPurchaseBill(prev => ({ ...prev, invoiceDate: e.target.value }))}\r\n                            className=\"w-full px-3 py-2 border border-blue-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n                        />\r\n                    </div>\r\n\r\n                    {/* Payment Type */}\r\n                    <div className=\"lg:col-span-1\">\r\n                        <label className=\"block text-sm font-semibold text-blue-900 mb-1\">Payment Type</label>\r\n                        <select\r\n                            value={purchaseBill.paymentType}\r\n                            onChange={(e) => setPurchaseBill(prev => ({ ...prev, paymentType: e.target.value }))}\r\n                            className=\"w-full px-3 py-2 border border-blue-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n                        >\r\n                            <option value=\"Credit\">Credit</option>\r\n                            <option value=\"Cash\">Cash</option>\r\n                            <option value=\"Other\">Other</option>\r\n                        </select>\r\n                    </div>\r\n\r\n                    {/* Supplier Name */}\r\n                    <div className=\"sm:col-span-2\">\r\n                        <label className=\"block text-sm font-semibold text-blue-900 mb-1\">Supplier Name</label>\r\n                        <input\r\n                            type=\"text\"\r\n                            value={purchaseBill.supplierName}\r\n                            readOnly\r\n                            className=\"w-full px-3 py-2 border border-blue-300 rounded-lg bg-blue-50 text-blue-900\"\r\n                        />\r\n                    </div>\r\n\r\n                    {/* Supplier Address */}\r\n                    <div className=\"sm:col-span-2\">\r\n                        <label className=\"block text-sm font-semibold text-blue-900 mb-1\">Supplier Address</label>\r\n                        <input\r\n                            type=\"text\"\r\n                            value={purchaseBill.supplierAddress}\r\n                            readOnly\r\n                            className=\"w-full px-3 py-2 border border-blue-300 rounded-lg bg-blue-50 text-blue-900\"\r\n                        />\r\n                    </div>\r\n\r\n                    {/* GST No */}\r\n                    <div className=\"sm:col-span-2\">\r\n                        <label className=\"block text-sm font-semibold text-blue-900 mb-1\">GST No</label>\r\n                        <input\r\n                            type=\"text\"\r\n                            value={purchaseBill.gst}\r\n                            readOnly\r\n                            className=\"w-full px-3 py-2 border border-blue-300 rounded-lg bg-blue-50 text-blue-900\"\r\n                        />\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            {/* Items Section */}\r\n            <div className=\"p-3 sm:p-4 lg:p-6 bg-gradient-to-r from-blue-50 to-blue-100\">\r\n                <div className=\"flex flex-col sm:flex-row justify-between items-center mb-4\">\r\n                    <h2 className=\"text-xl sm:text-2xl font-bold text-blue-900 mb-2 sm:mb-0\">Items</h2>\r\n                    <button\r\n                        onClick={addItem}\r\n                        className=\"bg-gradient-to-r from-blue-600 to-blue-800 text-white px-4 py-2 rounded-lg hover:from-blue-700 hover:to-blue-900 flex items-center gap-2 font-medium shadow-lg transition-all duration-300\"\r\n                    >\r\n                        <Plus size={16} /> Add Item\r\n                    </button>\r\n                </div>\r\n\r\n                {/* Items Table */}\r\n                <div className=\"bg-white rounded-lg shadow-lg relative overflow-visible z-10\">\r\n                    <div className=\"overflow-x-auto\">\r\n                        <table className=\"w-full\">\r\n                            <thead className=\"bg-gradient-to-r from-blue-600 to-blue-800 text-white\">\r\n                                <tr>\r\n                                    <th className=\"px-2 py-3 text-left text-xs sm:text-sm font-medium border-r border-blue-500\">Item Code</th>\r\n                                    <th className=\"px-2 py-3 text-left text-xs sm:text-sm font-medium border-r border-blue-500\">Medicine</th>\r\n                                    <th className=\"px-2 py-3 text-left text-xs sm:text-sm font-medium border-r border-blue-500\">Batch</th>\r\n                                    <th className=\"px-2 py-3 text-left text-xs sm:text-sm font-medium border-r border-blue-500\">Expiry</th>\r\n                                    <th className=\"px-2 py-3 text-center text-xs sm:text-sm font-medium border-r border-blue-500\">Qty</th>\r\n                                    <th className=\"px-2 py-3 text-center text-xs sm:text-sm font-medium border-r border-blue-500\">Free</th>\r\n                                    <th className=\"px-2 py-3 text-center text-xs sm:text-sm font-medium border-r border-blue-500\">P.Rate</th>\r\n                                    <th className=\"px-2 py-3 text-center text-xs sm:text-sm font-medium border-r border-blue-500\">S.Rate</th>\r\n                                    <th className=\"px-2 py-3 text-center text-xs sm:text-sm font-medium border-r border-blue-500\">GST%</th>\r\n                                    <th className=\"px-2 py-3 text-center text-xs sm:text-sm font-medium border-r border-blue-500\">Amount</th>\r\n                                    <th className=\"px-2 py-3 text-center text-xs sm:text-sm font-medium border-r border-blue-500\">HSN</th>\r\n                                    <th className=\"px-2 py-3 text-center text-xs sm:text-sm font-medium\">Action</th>\r\n                                </tr>\r\n                            </thead>\r\n                            <tbody>\r\n                                {purchaseBill.items.map((item, index) => (\r\n                                    <tr key={item.id} className={`${index % 2 === 0 ? 'bg-blue-50' : 'bg-white'} hover:bg-blue-100 transition-colors duration-200`}>\r\n                                        <td className=\"px-2 py-2 border-r border-blue-200 text-xs sm:text-sm\">\r\n                                            <input\r\n                                                type=\"text\"\r\n                                                value={item.itemCode}\r\n                                                onChange={(e) => updateItem(item.id, 'itemCode', e.target.value)}\r\n                                                className=\"w-full px-2 py-1 border border-blue-300 rounded text-xs\"\r\n                                            />\r\n                                        </td>\r\n                                        <td className=\"relative border-r border-blue-200 px-2 py-2 z-10\">\r\n                                            <div className=\"relative z-10\">\r\n                                                <Combobox\r\n                                                    value={medicines.find((m) => m.id === item.medicineId) || null}\r\n                                                    onChange={(selected: Medicine) => {\r\n                                                        if (!selected) return;\r\n\r\n                                                        setPurchaseBill(prev => {\r\n                                                            const updatedItems = prev.items.map(it => {\r\n                                                                if (it.id === item.id) {\r\n                                                                    const baseAmount = it.qty * (selected.purchaseRate ?? 0);\r\n                                                                    const gstAmount = (baseAmount * (selected.gst ?? 0)) / 100;\r\n\r\n                                                                    return {\r\n                                                                        ...it,\r\n                                                                        itemCode: selected.id.toString(),\r\n                                                                        medicineId: selected.id,\r\n                                                                        medicineName: selected.medicineName,\r\n                                                                        purchaseRate: selected.purchaseRate ?? 0,\r\n                                                                        salesRate: selected.salesRate ?? 0,\r\n                                                                        gst: selected.gst ?? 0,\r\n                                                                        hsnCode: selected.hsnCode ?? '',\r\n                                                                        amount: baseAmount + gstAmount\r\n                                                                    };\r\n                                                                }\r\n                                                                return it;\r\n                                                            });\r\n\r\n                                                            return {\r\n                                                                ...prev,\r\n                                                                items: updatedItems\r\n                                                            };\r\n                                                        });\r\n\r\n                                                        setMedicineSearches((prev) => ({\r\n                                                            ...prev,\r\n                                                            [item.id]: selected.medicineName,\r\n                                                        }));\r\n                                                    }}\r\n                                                >\r\n                                                    <div className=\"relative\">\r\n                                                        <Combobox.Input\r\n                                                            ref={(el) => {\r\n                                                                inputRefs.current[item.id] = el;\r\n                                                            }}\r\n                                                            className=\"w-full px-2 py-1 border border-blue-300 rounded bg-white text-xs focus:outline-none focus:ring-1 focus:ring-blue-500\"\r\n                                                            displayValue={(med: Medicine) => med?.medicineName ?? ''}\r\n                                                            onFocus={() => {\r\n                                                                const inputEl = inputRefs.current[item.id];\r\n                                                                if (inputEl) {\r\n                                                                    const rect = inputEl.getBoundingClientRect();\r\n                                                                    setDropdownPosition({\r\n                                                                        top: rect.top + rect.height + window.scrollY,\r\n                                                                        left: rect.left + window.scrollX,\r\n                                                                        width: rect.width\r\n                                                                    });\r\n\r\n                                                                    // 🚫 Disable body scroll\r\n                                                                    document.body.style.overflow = 'hidden';\r\n                                                                }\r\n                                                            }}\r\n                                                            onBlur={(e) => {\r\n                                                                // ✅ Enable scroll when clicking outside\r\n                                                                setTimeout(() => {\r\n                                                                    document.body.style.overflow = '';\r\n                                                                }, 200); // delay to avoid early closure\r\n                                                            }}\r\n                                                            onChange={(e) => {\r\n                                                                const searchTerm = e.target.value ?? '';\r\n                                                                setMedicineSearches((prev) => ({\r\n                                                                    ...prev,\r\n                                                                    [item.id]: searchTerm,\r\n                                                                }));\r\n                                                            }}\r\n                                                            placeholder=\"Select or search medicine...\"\r\n                                                        />\r\n\r\n                                                        <Combobox.Button className=\"absolute inset-y-0 right-0 flex items-center pr-2\">\r\n                                                            <ChevronDown className=\"w-4 h-4 text-gray-400\" />\r\n                                                        </Combobox.Button>\r\n\r\n                                                        <Combobox.Options\r\n                                                            style={{\r\n                                                                position: 'fixed',\r\n                                                                top: dropdownPosition?.top ?? 0,\r\n                                                                left: dropdownPosition?.left ?? 0,\r\n                                                                width: dropdownPosition?.width ?? '200px',\r\n                                                                zIndex: 9999,\r\n                                                            }}\r\n                                                            className=\"max-h-[160px] overflow-y-auto rounded-md bg-white py-1 text-xs shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none\"\r\n                                                        >\r\n                                                            {getFilteredMedicines(item.id).length === 0 ? (\r\n                                                                <div className=\"cursor-default select-none px-4 py-2 text-gray-500\">\r\n                                                                    No medicines found.\r\n                                                                </div>\r\n                                                            ) : (\r\n                                                                getFilteredMedicines(item.id).map((medicine) => (\r\n                                                                    <Combobox.Option\r\n                                                                        key={medicine.id}\r\n                                                                        value={medicine}\r\n                                                                        className={({ active }) =>\r\n                                                                            `cursor-pointer select-none px-4 py-2 ${active ? 'bg-blue-600 text-white' : 'text-gray-900'}`\r\n                                                                        }\r\n                                                                    >\r\n                                                                        {medicine.medicineName}\r\n                                                                    </Combobox.Option>\r\n                                                                ))\r\n                                                            )}\r\n                                                        </Combobox.Options>\r\n                                                    </div>\r\n                                                </Combobox>\r\n                                            </div>\r\n                                        </td>\r\n\r\n                                        <td className=\"px-2 py-2 border-r border-blue-200 text-xs sm:text-sm\">\r\n                                            <input\r\n                                                type=\"text\"\r\n                                                value={item.batchNo}\r\n                                                onChange={(e) => updateItem(item.id, 'batchNo', e.target.value)}\r\n                                                className=\"w-full px-2 py-1 border border-blue-300 rounded text-xs\"\r\n                                            />\r\n                                        </td>\r\n                                        <td className=\"px-2 py-2 border-r border-blue-200 text-xs sm:text-sm\">\r\n                                            <input\r\n                                                type=\"date\"\r\n                                                value={item.expiryDate}\r\n                                                onChange={(e) => updateItem(item.id, 'expiryDate', e.target.value)}\r\n                                                className=\"w-full px-2 py-1 border border-blue-300 rounded text-xs\"\r\n                                            />\r\n                                        </td>\r\n                                        <td className=\"px-2 py-2 border-r border-blue-200 text-center text-xs sm:text-sm\">\r\n                                            <input\r\n                                                type=\"number\"\r\n                                                value={item.qty}\r\n                                                onChange={(e) => updateItem(item.id, 'qty', e.target.value)}\r\n                                                className=\"w-full px-2 py-1 border border-blue-300 rounded text-xs text-center\"\r\n                                            />\r\n                                        </td>\r\n                                        <td className=\"px-2 py-2 border-r border-blue-200 text-center text-xs sm:text-sm\">\r\n                                            <input\r\n                                                type=\"number\"\r\n                                                value={item.freeQty}\r\n                                                onChange={(e) => updateItem(item.id, 'freeQty', e.target.value)}\r\n                                                className=\"w-full px-2 py-1 border border-blue-300 rounded text-xs text-center\"\r\n                                            />\r\n                                        </td>\r\n                                        <td className=\"px-2 py-2 border-r border-blue-200 text-center text-xs sm:text-sm\">\r\n                                            <input\r\n                                                type=\"number\"\r\n                                                step=\"0.01\"\r\n                                                value={Number(item.purchaseRate) || ''}\r\n                                                onChange={(e) => updateItem(item.id, 'purchaseRate', e.target.value)}\r\n                                                className=\"w-full px-2 py-1 border border-blue-300 rounded text-xs text-center\"\r\n                                            />\r\n                                        </td>\r\n                                        <td className=\"px-2 py-2 border-r border-blue-200 text-center text-xs sm:text-sm\">\r\n                                            <input\r\n                                                type=\"number\"\r\n                                                step=\"0.01\"\r\n                                                value={purchaseBill.items.find(i => i.id === item.id)?.salesRate ?? ''}\r\n                                                onChange={(e) => updateItem(item.id, 'salesRate', e.target.value)}\r\n                                                className=\"w-full px-2 py-1 border border-blue-300 rounded text-xs text-center\"\r\n                                            />\r\n\r\n                                        </td>\r\n                                        <td className=\"px-2 py-2 border-r border-blue-200 text-center text-xs sm:text-sm\">\r\n                                            <input\r\n                                                type=\"number\"\r\n                                                step=\"0.01\"\r\n                                                value={purchaseBill.items.find(i => i.id === item.id)?.gst ?? ''}\r\n                                                onChange={(e) => updateItem(item.id, 'gst', e.target.value)}\r\n                                                className=\"w-full px-2 py-1 border border-blue-300 rounded text-xs text-center\"\r\n                                            />\r\n                                        </td>\r\n                                        <td className=\"px-2 py-2 border-r border-blue-200 text-center text-xs sm:text-sm font-bold text-green-700\">\r\n                                            ₹{item.amount.toFixed(2)}\r\n                                        </td>\r\n                                        <td className=\"px-2 py-2 border-r border-blue-200 text-center text-xs sm:text-sm\">\r\n                                            <input\r\n                                                type=\"text\"\r\n                                                value={purchaseBill.items.find(i => i.id === item.id)?.hsnCode ?? ''}\r\n                                                onChange={(e) => updateItem(item.id, 'hsnCode', e.target.value)}\r\n                                                className=\"w-full px-2 py-1 border border-blue-300 rounded text-xs\"\r\n                                            />\r\n                                        </td>\r\n                                        <td className=\"px-2 py-2 text-center\">\r\n                                            <button\r\n                                                onClick={() => removeItem(item.id)}\r\n                                                className=\"text-red-600 hover:text-red-800 hover:bg-red-100 p-1 rounded transition-all duration-200\"\r\n                                            >\r\n                                                <Trash2 size={14} />\r\n                                            </button>\r\n                                        </td>\r\n                                    </tr>\r\n                                ))}\r\n                            </tbody>\r\n                        </table>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            {/* Summary Section */}\r\n            <div className=\"p-3 sm:p-4 lg:p-6 bg-white\">\r\n                <div className=\"bg-gradient-to-r from-blue-50 to-blue-100 p-4 sm:p-6 rounded-lg\">\r\n                    <h3 className=\"text-lg sm:text-xl font-bold text-blue-900 mb-4\">Summary</h3>\r\n\r\n                    <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-4 sm:gap-6\">\r\n                        {/* Column 1: Tax Details */}\r\n                        <div className=\"space-y-3\">\r\n                            <div className=\"border border-blue-300 rounded-lg overflow-hidden\">\r\n                                <div className=\"bg-blue-600 text-white p-2 text-center font-semibold text-sm\">Tax Details</div>\r\n                                <div className=\"divide-y divide-blue-200\">\r\n                                    <div className=\"flex justify-between items-center p-2 bg-white\">\r\n                                        <span className=\"text-sm font-medium text-blue-900\">GST Total:</span>\r\n                                        <span className=\"text-sm font-bold text-blue-900\">₹{purchaseBill.gstTotal.toFixed(2)}</span>\r\n                                    </div>\r\n                                    <div className=\"flex justify-between items-center p-2 bg-blue-50\">\r\n                                        <span className=\"text-sm font-medium text-blue-900\">CGST:</span>\r\n                                        <span className=\"text-sm font-bold text-blue-900\">₹{purchaseBill.cgst.toFixed(2)}</span>\r\n                                    </div>\r\n                                    <div className=\"flex justify-between items-center p-2 bg-white\">\r\n                                        <span className=\"text-sm font-medium text-blue-900\">SGST:</span>\r\n                                        <span className=\"text-sm font-bold text-blue-900\">₹{purchaseBill.sgst.toFixed(2)}</span>\r\n                                    </div>\r\n                                    <div className=\"flex justify-between items-center p-2 bg-white\">\r\n                                        <span className=\"text-sm font-medium text-blue-900\">IGST:</span>\r\n                                        <span className=\"text-sm font-bold text-blue-900\">₹{purchaseBill.igst.toFixed(2)}</span>\r\n                                    </div>\r\n                                    <div className=\"flex justify-between items-center p-2 bg-blue-50\">\r\n                                        <span className=\"text-sm font-medium text-blue-900\">Cess Amount:</span>\r\n                                        <input\r\n                                            type=\"number\"\r\n                                            step=\"0.01\"\r\n                                            value={purchaseBill.cessAmount}\r\n                                            onChange={(e) => setPurchaseBill(prev => ({ ...prev, cessAmount: Number(e.target.value) }))}\r\n                                            className=\"w-20 px-2 py-1 text-sm border border-blue-300 rounded text-right font-bold\"\r\n                                        />\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n\r\n                        {/* Column 2: Amount Details */}\r\n                        <div className=\"space-y-3\">\r\n                            <div className=\"border border-blue-300 rounded-lg overflow-hidden\">\r\n                                <div className=\"bg-blue-600 text-white p-2 text-center font-semibold text-sm\">Amount Details</div>\r\n                                <div className=\"divide-y divide-blue-200\">\r\n                                    <div className=\"flex justify-between items-center p-2 bg-white\">\r\n                                        <span className=\"text-sm font-medium text-blue-900\">Gross Total:</span>\r\n                                        <span className=\"text-sm font-bold text-blue-900\">₹{purchaseBill.grossTotal.toFixed(2)}</span>\r\n                                    </div>\r\n                                    <div className=\"flex justify-between items-center p-2 bg-blue-50\">\r\n                                        <span className=\"text-sm font-medium text-blue-900\">Round Off:</span>\r\n                                        <span className=\"text-sm font-bold text-blue-900\">₹{purchaseBill.roundOff.toFixed(2)}</span>\r\n                                    </div>\r\n                                    <div className=\"flex justify-between items-center p-2 bg-white\">\r\n                                        <span className=\"text-sm font-medium text-blue-900\">Discount:</span>\r\n                                        <input\r\n                                            type=\"number\"\r\n                                            step=\"0.01\"\r\n                                            value={purchaseBill.discount}\r\n                                            onChange={(e) => setPurchaseBill(prev => ({ ...prev, discount: Number(e.target.value) }))}\r\n                                            className=\"w-20 px-2 py-1 text-sm border border-blue-300 rounded text-right font-bold\"\r\n                                        />\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n\r\n                        {/* Column 3: Final Total */}\r\n                        <div className=\"lg:flex lg:items-center lg:justify-center\">\r\n                            <div className=\"bg-gradient-to-r from-red-500 to-red-700 text-white p-4 rounded-lg text-center shadow-lg\">\r\n                                <div className=\"text-sm font-medium mb-1\">Total Amount</div>\r\n                                <div className=\"text-2xl font-bold\">₹{purchaseBill.finalTotal.toFixed(2)}</div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            {/* Save + Cancel Buttons */}\r\n            <div className=\"p-3 sm:p-4 lg:p-6 bg-gradient-to-r from-blue-50 to-blue-100\">\r\n                <div className=\"flex justify-center gap-4\">\r\n                    <button\r\n                        onClick={savePurchaseBill}\r\n                        className=\"bg-gradient-to-r from-green-600 to-green-800 text-white px-8 py-3 rounded-lg hover:from-green-700 hover:to-green-900 flex items-center gap-2 font-bold text-lg shadow-lg transition-all duration-300\"\r\n                    >\r\n                        <Save size={20} /> Save Bill\r\n                    </button>\r\n\r\n                    <button\r\n                        onClick={cancelPurchaseBill} // 🔁 Replace this with your cancel function\r\n                        className=\"bg-gradient-to-r from-red-600 to-red-800 text-white px-8 py-3 rounded-lg hover:from-red-700 hover:to-red-900 flex items-center gap-2 font-bold text-lg shadow-lg transition-all duration-300\"\r\n                    >\r\n                        <Trash2 size={20} /> Cancel Bill\r\n                    </button>\r\n                </div>\r\n            </div>\r\n\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default PurchaseBillPage;"],"names":[],"mappings":"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","debugId":null}}]
}