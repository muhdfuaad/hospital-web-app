{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///D:/Projects/HOSPITALAPP/hospitalapp/src/app/location/Districts/page.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useEffect, useState } from 'react';\r\nimport Link from 'next/link';\r\n\r\ninterface District {\r\n    id: number;\r\n    name: string;\r\n}\r\n\r\nexport default function DistrictPage() {\r\n    const [districts, setDistricts] = useState<District[]>([]);\r\n    const [showModal, setShowModal] = useState(false);\r\n    const [districtName, setDistrictName] = useState('');\r\n    const [editingId, setEditingId] = useState<number | null>(null);\r\n    const [error, setError] = useState('');\r\n\r\n    const fetchDistricts = async () => {\r\n        const res = await fetch('https://localhost:7112/api/Districts');\r\n        const data = await res.json();\r\n        setDistricts(data);\r\n    };\r\n\r\n    useEffect(() => {\r\n        fetchDistricts();\r\n    }, []);\r\n\r\n    const handleSave = async () => {\r\n        if (!districtName.trim()) {\r\n            setError('District name is required');\r\n            return;\r\n        }\r\n\r\n        const normalizedInput = districtName.trim().toLowerCase();\r\n\r\n        const duplicate = districts.some(d =>\r\n            d.name.trim().toLowerCase() === normalizedInput &&\r\n            d.id !== editingId\r\n        );\r\n\r\n        if (duplicate) {\r\n            setError('District already exists');\r\n            return;\r\n        }\r\n\r\n        const method = editingId ? 'PUT' : 'POST';\r\n        const url = editingId\r\n            ? `https://localhost:7112/api/Districts/${editingId}`\r\n            : `https://localhost:7112/api/Districts`;\r\n\r\n        await fetch(url, {\r\n            method,\r\n            headers: { 'Content-Type': 'application/json' },\r\n            body: JSON.stringify({ id: editingId || 0, name: districtName.trim() }),\r\n        });\r\n\r\n        setDistrictName('');\r\n        setEditingId(null);\r\n        setShowModal(false);\r\n        setError('');\r\n        fetchDistricts();\r\n    };\r\n\r\n    const handleDelete = async (id: number) => {\r\n        await fetch(`https://localhost:7112/api/Districts/${id}`, { method: 'DELETE' });\r\n        fetchDistricts();\r\n    };\r\n\r\n    return (\r\n        <div className=\"p-6\">\r\n\r\n            <h2 className=\"text-xl font-bold mb-4\">Districts</h2>\r\n\r\n            <table className=\"w-full border\">\r\n                <thead className=\"bg-gray-200\">\r\n                    <tr>\r\n                        <th className=\"px-4 py-2 text-left\">ID</th>\r\n                        <th className=\"px-4 py-2 text-left\">Name</th>\r\n                        <th className=\"px-4 py-2 text-left\">Actions</th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    {districts.map((d) => (\r\n                        <tr key={d.id} className=\"border-t\">\r\n                            <td className=\"px-4 py-2 text-left\">{d.id}</td>\r\n                            <td className=\"px-4 py-2 text-left\">{d.name}</td>\r\n                            <td className=\"px-4 py-2 text-left\">\r\n                                <div className=\"flex gap-2\">\r\n                                    <button\r\n                                        onClick={() => {\r\n                                            setEditingId(d.id);\r\n                                            setDistrictName(d.name);\r\n                                            setError('');\r\n                                            setShowModal(true);\r\n                                        }}\r\n                                        className=\"bg-yellow-400 px-2 py-1 rounded\"\r\n                                    >\r\n                                        Edit\r\n                                    </button>\r\n                                    <button\r\n                                        onClick={() => handleDelete(d.id)}\r\n                                        className=\"bg-red-500 text-white px-2 py-1 rounded\"\r\n                                    >\r\n                                        Delete\r\n                                    </button>\r\n                                </div>\r\n                            </td>\r\n                        </tr>\r\n                    ))}\r\n                </tbody>\r\n            </table>\r\n\r\n            <button\r\n                onClick={() => {\r\n                    setShowModal(true);\r\n                    setEditingId(null);\r\n                    setDistrictName('');\r\n                    setError('');\r\n                }}\r\n                className=\"bg-blue-600 text-white px-4 py-2 rounded mt-4\"\r\n            >\r\n                ➕ Add District\r\n            </button>\r\n\r\n            {showModal && (\r\n                <div className=\"fixed inset-0 bg-black/30 flex justify-center items-center z-50\">\r\n                    <div className=\"bg-white p-6 rounded-lg w-full max-w-sm shadow-lg\">\r\n                        <h3 className=\"text-lg font-semibold mb-4\">\r\n                            {editingId ? '✏️ Edit' : '➕ Add'} District\r\n                        </h3>\r\n                        <input\r\n                            value={districtName}\r\n                            onChange={(e) => setDistrictName(e.target.value)}\r\n                            className=\"w-full border px-3 py-2 mb-2 rounded\"\r\n                            placeholder=\"Enter district name\"\r\n                        />\r\n                        {error && (\r\n                            <p className=\"text-red-600 text-sm mb-2\">{error}</p>\r\n                        )}\r\n                        <div className=\"flex justify-end gap-2\">\r\n                            <button onClick={() => setShowModal(false)} className=\"border px-4 py-2 rounded\">Cancel</button>\r\n                            <button onClick={handleSave} className=\"bg-blue-600 text-white px-4 py-2 rounded\">Save</button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}}]
}